
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Design document for the TNH Scholar knowledge base and semantic search stack.">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>TNH Scholar Knowledge Base: Design Document - TNH Scholar Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tnh-scholar-knowledge-base-design-document" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="TNH Scholar Documentation" class="md-header__button md-logo" aria-label="TNH Scholar Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TNH Scholar Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TNH Scholar Knowledge Base: Design Document
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aaronksolomon/tnh-scholar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="TNH Scholar Documentation" class="md-nav__button md-logo" aria-label="TNH Scholar Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TNH Scholar Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aaronksolomon/tnh-scholar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quick-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pattern System
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CLI Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CLI Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/tnh-fab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tnh-fab
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/audio-transcribe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    audio-transcribe
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/ytt-fetch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ytt-fetch
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/nfmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nfmt
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/token-count/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    token-count
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/tnh-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tnh-setup
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/system-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Overview
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/design-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Guide
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2" >
        
          
          <label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CLI Design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_2">
            <span class="md-nav__icon md-icon"></span>
            CLI Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_6_3_2_1" id="__nav_6_3_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TNH-FAB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            TNH-FAB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/tnh-fab/design/text-processing-cli-design-v1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/tnh-fab/design/text-processing-cli-design-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v2
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_6_3_2_2" id="__nav_6_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    YTT-Fetch
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            YTT-Fetch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/ytt-fetch/adr/adr-yf00-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  
    
  
  
    <span class="md-status md-status--historical"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/ytt-fetch/adr/adr-yf01-transcript-source-handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transcript Source
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/ytt-fetch/adr/adr-yf02-yt-dlp-transcripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YT-DLP Integration
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/ytt-fetch/design/yt-dlp-vs-youtube-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Comparison
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/setup-tnh/design/setup-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SETUP-TNH
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/docs-design/design/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docs-Design
  </span>
  
    
  
  
    <span class="md-status md-status--processing"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_2" >
        
          
          <label class="md-nav__link" for="__nav_6_4_2" id="__nav_6_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docs-Planning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_2">
            <span class="md-nav__icon md-icon"></span>
            Docs-Planning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs-design/planning/roadmap.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roadmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs-design/planning/maintenance.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintenance
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Research
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Research
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gpt_4o_search_query_text_pair_testing/testing_input_output.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Query Generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gpt_4o_translations_experiments/passage_test.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Translation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../translation_research.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Translation Research
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preliminary_feasibility_study.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feasibility Study
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Core Objectives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-types-to-support" class="md-nav__link">
    <span class="md-ellipsis">
      Query Types to Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-scope-and-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Content Scope and Processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Content Scope and Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-materials" class="md-nav__link">
    <span class="md-ellipsis">
      Source Materials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-processing-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Content Processing Pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Content Processing Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-text-normalization" class="md-nav__link">
    <span class="md-ellipsis">
      1. Text Normalization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-transcription-integration" class="md-nav__link">
    <span class="md-ellipsis">
      2. Transcription Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-metadata-enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      3. Metadata Enrichment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-text-segmentation-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      4. Text Segmentation Strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-and-retrieval-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Search and Retrieval Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search and Retrieval Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vector-embeddings-technical-foundation" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Embeddings: Technical Foundation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding-model-options" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding Model Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Embedding Model Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commercial-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Commercial Solutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open-source-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Open Source Solutions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-paradigms" class="md-nav__link">
    <span class="md-ellipsis">
      Search Paradigms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search Paradigms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-vector-based-semantic-search" class="md-nav__link">
    <span class="md-ellipsis">
      1. Vector-Based Semantic Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-keyword-based-search" class="md-nav__link">
    <span class="md-ellipsis">
      2. Keyword-Based Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-hybrid-search-systems" class="md-nav__link">
    <span class="md-ellipsis">
      3. Hybrid Search Systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-and-infrastructure-options" class="md-nav__link">
    <span class="md-ellipsis">
      Storage and Infrastructure Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage and Infrastructure Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vector-database-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Database Solutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#infrastructure-decision-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      Infrastructure Decision Matrix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-retrieval-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Retrieval Techniques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Retrieval Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passage-ranking-and-re-ranking" class="md-nav__link">
    <span class="md-ellipsis">
      Passage Ranking and Re-ranking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-processing-enhancement" class="md-nav__link">
    <span class="md-ellipsis">
      Query Processing Enhancement
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-pathways" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Pathways
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Pathways">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fully-commercial-pathway" class="md-nav__link">
    <span class="md-ellipsis">
      Fully Commercial Pathway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully-open-source-pathway" class="md-nav__link">
    <span class="md-ellipsis">
      Fully Open Source Pathway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-approach-recommended-for-prototyping" class="md-nav__link">
    <span class="md-ellipsis">
      Hybrid Approach (Recommended for Prototyping)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-centered-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      User-Centered Evaluation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluation-data-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation Data Requirements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-decision-points-and-areas-for-exploration" class="md-nav__link">
    <span class="md-ellipsis">
      Open Decision Points and Areas for Exploration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Open Decision Points and Areas for Exploration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-chunking-strategy-selection" class="md-nav__link">
    <span class="md-ellipsis">
      1. Chunking Strategy Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-multilingual-handling-approach" class="md-nav__link">
    <span class="md-ellipsis">
      2. Multilingual Handling Approach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-metadata-schema-design" class="md-nav__link">
    <span class="md-ellipsis">
      3. Metadata Schema Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-commercial-vs-open-source-technology-mix" class="md-nav__link">
    <span class="md-ellipsis">
      4. Commercial vs. Open Source Technology Mix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-advanced-feature-development-priority" class="md-nav__link">
    <span class="md-ellipsis">
      5. Advanced Feature Development Priority
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-query-response-pair-integration-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      6. Query-Response Pair Integration Strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-phases" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Phases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Phases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-foundation-development-4-6-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Foundation Development (4-6 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-enhanced-retrieval-6-8-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Enhanced Retrieval (6-8 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-advanced-features-8-12-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Advanced Features (8-12 weeks)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#success-criteria" class="md-nav__link">
    <span class="md-ellipsis">
      Success Criteria
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Success Criteria">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-success-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Success Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-success-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      User Success Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-success-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Content Success Metrics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="tnh-scholar-knowledge-base-design-document">TNH Scholar Knowledge Base: Design Document</h1>
<p>Design document for the TNH Scholar knowledge base and semantic search stack.</p>
<h2 id="project-overview">Project Overview</h2>
<p>The TNH Scholar Knowledge Base project aims to create an AI-driven searchable knowledge base for the works of Thich Nhat Hanh, enabling researchers to perform semantic searches across a comprehensive corpus of teachings. The system will support complex queries ranging from thematic exploration to perspective synthesis while maintaining scholarly accuracy and source attribution.</p>
<h3 id="core-objectives">Core Objectives</h3>
<ul>
<li><strong>Primary Goal</strong>: Enable semantic search across Thich Nhat Hanh's complete works with accurate source attribution</li>
<li><strong>Target Users</strong>: Monastics and senior community members for research purposes (internal use only)</li>
<li><strong>Output Focus</strong>: Concrete passage references rather than synthesized responses (initially)</li>
<li><strong>Technical Approach</strong>: Leverage off-the-shelf systems and technologies where possible</li>
</ul>
<h3 id="query-types-to-support">Query Types to Support</h3>
<p>The system must handle diverse query patterns:</p>
<ol>
<li><strong>Factual Retrieval</strong>: "Where is the best description of touching the earth practice?"</li>
<li><strong>Thematic Exploration</strong>: "Find all works referencing climate change and transcending separate self"</li>
<li><strong>Perspective Analysis</strong>: "What does Thay say about soldiers, police officers, and nonviolence?"</li>
<li><strong>Qualitative Assessment</strong>: "What were some of Thay's most difficult/profound/loving moments?"</li>
<li><strong>Cross-Domain Inquiry</strong>: "Does Thay ever talk about physics and dharma teachings?"</li>
<li><strong>Synthetic Analysis</strong> (future): "What would Thay say about the Israel Palestine conflict today?"</li>
</ol>
<h2 id="content-scope-and-processing">Content Scope and Processing</h2>
<h3 id="source-materials">Source Materials</h3>
<ul>
<li><strong>Text Sources</strong>: Hundreds of texts in Vietnamese and English (predominant languages)</li>
<li><strong>Audio/Video Sources</strong>: Potentially thousands of sources requiring transcription</li>
<li><strong>Processing Approach</strong>: All sources converted to digital text with unified metadata structure</li>
<li><strong>Transcription Capability</strong>: Robust transcription tools already available in the project</li>
</ul>
<h3 id="content-processing-pipeline">Content Processing Pipeline</h3>
<h4 id="1-text-normalization">1. Text Normalization</h4>
<ul>
<li>Consistent formatting, punctuation, and character handling</li>
<li>Language-specific processing for Vietnamese and English</li>
<li>Special character and encoding standardization</li>
</ul>
<h4 id="2-transcription-integration">2. Transcription Integration</h4>
<ul>
<li>Audio/video content processed through existing transcription tools</li>
<li>Quality assurance for transcribed content</li>
<li>Timestamping preservation for multimedia sources</li>
</ul>
<h4 id="3-metadata-enrichment">3. Metadata Enrichment</h4>
<p>Development of consistent metadata schema including:</p>
<p><strong>Bibliographic Information</strong>:</p>
<ul>
<li>Source identification and publication details</li>
<li>Date, author/speaker, and publication context</li>
<li>Original format and processing information</li>
</ul>
<p><strong>Content Classification</strong>:</p>
<ul>
<li>Topics, themes, and spiritual practices</li>
<li>Target audiences and contexts</li>
<li>Relationship to other works in corpus</li>
</ul>
<p><strong>Structural Metadata</strong>:</p>
<ul>
<li>Position within larger works</li>
<li>Section and subsection organization</li>
<li>Cross-references and citations</li>
</ul>
<p><strong>Technical Metadata</strong>:</p>
<ul>
<li>Processing timestamps and methods</li>
<li>Language identification and translation links</li>
<li>Quality scores and confidence measures</li>
</ul>
<h4 id="4-text-segmentation-strategy">4. Text Segmentation Strategy</h4>
<p><strong>Key Decision Point</strong>: Determining optimal chunk size for retrieval</p>
<p>Options for consideration:</p>
<ul>
<li><strong>Paragraph-level chunks</strong>: Balance between context and precision</li>
<li><strong>Section-based chunks</strong>: Preserving logical content boundaries  </li>
<li><strong>Sliding window approaches</strong>: Overlapping chunks to prevent context loss</li>
<li><strong>Hierarchical chunking</strong>: Multiple granularities (section → paragraph → sentence)</li>
</ul>
<h2 id="search-and-retrieval-architecture">Search and Retrieval Architecture</h2>
<h3 id="vector-embeddings-technical-foundation">Vector Embeddings: Technical Foundation</h3>
<p>Vector embeddings convert text into high-dimensional numerical representations where semantically similar content occupies nearby positions in vector space. This enables semantic search beyond keyword matching.</p>
<p><strong>Key Concepts</strong>:</p>
<ul>
<li>Text converted to vectors (lists of numbers) representing meaning</li>
<li>Similar concepts have mathematically similar vectors</li>
<li>Search performed by finding nearest neighbors in vector space</li>
<li>Typical dimensions: 768-3072 numbers per text segment</li>
</ul>
<p><strong>Example Flow</strong>:</p>
<pre><code class="language-plaintext">Text: &quot;The practice of mindful breathing&quot;
→ Embedding Model → [0.016, -0.028, 0.044, ..., 0.037]
</code></pre>
<h3 id="embedding-model-options">Embedding Model Options</h3>
<h4 id="commercial-solutions">Commercial Solutions</h4>
<ul>
<li><strong>OpenAI text-embedding-3-large</strong>: 3,072 dimensions, high quality, API-based</li>
<li><strong>Cohere Embed</strong>: Multilingual support, commercial API</li>
<li><strong>Azure AI Embeddings</strong>: Enterprise integration capabilities</li>
</ul>
<h4 id="open-source-solutions">Open Source Solutions</h4>
<ul>
<li><strong>Sentence-BERT (SBERT)</strong>: Wide model variety, multilingual options available</li>
<li><strong>E5 Models</strong>: Microsoft's efficient embeddings with strong performance</li>
<li><strong>BGE Models</strong>: Multilingual embeddings with strong cross-language capabilities</li>
<li><strong>Multilingual Models</strong>: Specialized for Vietnamese-English bilingual corpus</li>
</ul>
<p><strong>Key Decision Point</strong>: Commercial vs. Open Source Embedding Strategy</p>
<ul>
<li>Commercial: Higher quality, faster development, ongoing costs</li>
<li>Open Source: Full control, customization potential, infrastructure overhead</li>
</ul>
<h3 id="search-paradigms">Search Paradigms</h3>
<h4 id="1-vector-based-semantic-search">1. Vector-Based Semantic Search</h4>
<ul>
<li><strong>Approach</strong>: Dense vector embeddings with nearest neighbor search</li>
<li><strong>Strengths</strong>: Captures conceptual relationships, handles paraphrasing</li>
<li><strong>Limitations</strong>: Computationally expensive, may lose precision on technical terms</li>
<li><strong>Best For</strong>: Thematic queries, conceptual exploration</li>
</ul>
<h4 id="2-keyword-based-search">2. Keyword-Based Search</h4>
<ul>
<li><strong>Approach</strong>: Traditional BM25/TF-IDF algorithms with boolean operators</li>
<li><strong>Strengths</strong>: Precise terminology matching, computationally efficient</li>
<li><strong>Limitations</strong>: Misses semantic relationships, language-dependent</li>
<li><strong>Best For</strong>: Exact phrase matching, specific terminology</li>
</ul>
<h4 id="3-hybrid-search-systems">3. Hybrid Search Systems</h4>
<ul>
<li><strong>Approach</strong>: Combining vector and keyword search with result fusion</li>
<li><strong>Strengths</strong>: Balances precision and recall, handles diverse query types</li>
<li><strong>Limitations</strong>: Complex implementation, requires careful tuning</li>
<li><strong>Best For</strong>: Production systems serving varied query patterns</li>
</ul>
<p><strong>Recommended Approach</strong>: Start with pure vector search, evolve to hybrid system based on user feedback and query patterns.</p>
<h3 id="storage-and-infrastructure-options">Storage and Infrastructure Options</h3>
<h4 id="vector-database-solutions">Vector Database Solutions</h4>
<p><strong>Specialized Vector Databases</strong>:</p>
<ul>
<li><strong>Pinecone</strong>: Fully managed, simple API, commercial service</li>
<li><strong>Weaviate</strong>: Open-source, schema support, self-hosted or cloud</li>
<li><strong>Milvus</strong>: High-performance, enterprise features, complex setup</li>
<li><strong>Qdrant</strong>: Fast performance, good filtering, moderate complexity</li>
<li><strong>Chroma</strong>: Simple open-source, ideal for prototypes</li>
<li><strong>PGVector</strong>: PostgreSQL extension, leverages existing database skills</li>
</ul>
<p><strong>Traditional Search with Vector Extensions</strong>:</p>
<ul>
<li><strong>Elasticsearch</strong>: Mature ecosystem, hybrid search capabilities, complex configuration</li>
<li><strong>Solr</strong>: Similar to Elasticsearch, vector plugins available</li>
</ul>
<h4 id="infrastructure-decision-matrix">Infrastructure Decision Matrix</h4>
<table>
<thead>
<tr>
<th>Solution</th>
<th>Setup Complexity</th>
<th>Performance</th>
<th>Cost Model</th>
<th>Best For</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pinecone</td>
<td>Low</td>
<td>High</td>
<td>Usage-based</td>
<td>Rapid prototyping</td>
</tr>
<tr>
<td>Elasticsearch</td>
<td>Medium</td>
<td>High</td>
<td>Infrastructure</td>
<td>Hybrid search needs</td>
</tr>
<tr>
<td>Chroma</td>
<td>Low</td>
<td>Medium</td>
<td>Self-hosted</td>
<td>Initial development</td>
</tr>
<tr>
<td>Weaviate</td>
<td>Medium</td>
<td>High</td>
<td>Flexible</td>
<td>Production deployment</td>
</tr>
</tbody>
</table>
<h3 id="advanced-retrieval-techniques">Advanced Retrieval Techniques</h3>
<h4 id="passage-ranking-and-re-ranking">Passage Ranking and Re-ranking</h4>
<p>Methods to improve relevance of returned results:</p>
<ul>
<li><strong>Cross-Encoders</strong>: Direct query-passage relevance scoring</li>
<li><strong>LLM-based Reranking</strong>: Large language models for relevance judgment  </li>
<li><strong>Learning to Rank</strong>: Machine learning approaches using multiple features</li>
<li><strong>Multi-stage Retrieval</strong>: Initial retrieval followed by sophisticated ranking</li>
</ul>
<h4 id="query-processing-enhancement">Query Processing Enhancement</h4>
<ul>
<li><strong>Query Expansion</strong>: Adding related terms to improve recall</li>
<li><strong>Query Rewriting</strong>: Reformulating queries for better matching</li>
<li><strong>Retrieval Augmented Generation for Queries</strong>: LLM-generated query improvements</li>
<li><strong>Intent Classification</strong>: Understanding query type to optimize search strategy</li>
</ul>
<h2 id="implementation-pathways">Implementation Pathways</h2>
<h3 id="fully-commercial-pathway">Fully Commercial Pathway</h3>
<p><strong>Components</strong>:</p>
<ul>
<li>Embedding: OpenAI text-embedding-3-large API</li>
<li>Storage: Pinecone or Azure Cognitive Search</li>
<li>Query Processing: OpenAI API for query understanding</li>
<li>Infrastructure: Cloud providers (AWS, Azure, GCP)</li>
</ul>
<p><strong>Cost Estimate</strong>: $500-2000/month depending on usage
<strong>Timeline</strong>: 2-4 weeks for initial prototype
<strong>Advantages</strong>: Rapid development, managed infrastructure, high-quality embeddings
<strong>Disadvantages</strong>: Recurring costs, vendor dependency, data privacy considerations</p>
<h3 id="fully-open-source-pathway">Fully Open Source Pathway</h3>
<p><strong>Components</strong>:</p>
<ul>
<li>Embedding: SBERT, E5, or BGE models (self-hosted)</li>
<li>Storage: Elasticsearch, Qdrant, or Milvus (self-hosted)</li>
<li>Query Processing: Open source rerankers, self-hosted LLMs</li>
<li>Infrastructure: Self-managed servers</li>
</ul>
<p><strong>Cost Estimate</strong>: Primarily hardware and operational overhead
<strong>Timeline</strong>: 6-12 weeks for initial prototype<br />
<strong>Advantages</strong>: No recurring API costs, full control, complete customization
<strong>Disadvantages</strong>: Higher development effort, infrastructure management, technical expertise required</p>
<h3 id="hybrid-approach-recommended-for-prototyping">Hybrid Approach (Recommended for Prototyping)</h3>
<p><strong>Phase 1 - Rapid Prototype</strong>:</p>
<ul>
<li>Commercial embedding API + simple vector database</li>
<li>Focus on core functionality validation</li>
<li>Minimal infrastructure overhead</li>
</ul>
<p><strong>Phase 2 - Production System</strong>:</p>
<ul>
<li>Evaluate commercial vs. open source based on Phase 1 learnings</li>
<li>Implement sophisticated ranking and query processing</li>
<li>Scale infrastructure based on usage patterns</li>
</ul>
<h2 id="evaluation-framework">Evaluation Framework</h2>
<h3 id="technical-metrics">Technical Metrics</h3>
<p><strong>Relevance Metrics</strong>:</p>
<ul>
<li><strong>Precision/Recall</strong>: Classical search performance measures</li>
<li><strong>Mean Average Precision (MAP)</strong>: Standard information retrieval metric</li>
<li><strong>Normalized Discounted Cumulative Gain (nDCG)</strong>: Ranking quality assessment</li>
<li><strong>Mean Reciprocal Rank (MRR)</strong>: Position of first relevant result</li>
</ul>
<p><strong>System Performance</strong>:</p>
<ul>
<li>Query response time and throughput</li>
<li>Index size and memory requirements</li>
<li>Computational resource utilization</li>
<li>System availability and reliability</li>
</ul>
<h3 id="user-centered-evaluation">User-Centered Evaluation</h3>
<p><strong>Relevance Assessment</strong>:</p>
<ul>
<li>Human judgment of search result quality</li>
<li>Task completion rates for researchers</li>
<li>Side-by-side comparison of different approaches</li>
<li>Feedback collection and analysis systems</li>
</ul>
<p><strong>Usage Analytics</strong>:</p>
<ul>
<li>Query patterns and frequency analysis</li>
<li>Result click-through and usage patterns</li>
<li>User satisfaction surveys and interviews</li>
<li>Feature usage and adoption metrics</li>
</ul>
<h3 id="evaluation-data-requirements">Evaluation Data Requirements</h3>
<p><strong>Test Query Development</strong>:</p>
<ul>
<li>Representative query sets across all supported types</li>
<li>Ground truth relevance judgments</li>
<li>Edge cases and challenging queries</li>
<li>Multilingual query examples</li>
</ul>
<p><strong>Benchmark Creation</strong>:</p>
<ul>
<li>Gold standard query-document pairs</li>
<li>Cross-validation datasets for model training</li>
<li>Hold-out test sets for final evaluation</li>
<li>Adversarial examples for robustness testing</li>
</ul>
<h2 id="open-decision-points-and-areas-for-exploration">Open Decision Points and Areas for Exploration</h2>
<h3 id="1-chunking-strategy-selection">1. Chunking Strategy Selection</h3>
<p><strong>Decision Required</strong>: Optimal text segment size and boundaries
<strong>Options</strong>:</p>
<ul>
<li>Paragraph-level with context preservation</li>
<li>Section-based following logical boundaries</li>
<li>Sliding window with overlap</li>
<li>Hierarchical multi-granularity approach</li>
</ul>
<p><strong>Exploration Needed</strong>:</p>
<ul>
<li>Performance testing with different chunk sizes</li>
<li>User feedback on result granularity preferences</li>
<li>Context preservation vs. precision trade-offs</li>
</ul>
<h3 id="2-multilingual-handling-approach">2. Multilingual Handling Approach</h3>
<p><strong>Decision Required</strong>: Strategy for Vietnamese-English bilingual corpus
<strong>Options</strong>:</p>
<ul>
<li>Separate indices for each language</li>
<li>Cross-lingual embeddings for unified search</li>
<li>Translation-based query expansion</li>
<li>Language-specific optimization</li>
</ul>
<p><strong>Exploration Needed</strong>:</p>
<ul>
<li>Cross-language retrieval effectiveness</li>
<li>Translation quality impact on search results</li>
<li>User preference for language-specific vs. unified results</li>
</ul>
<h3 id="3-metadata-schema-design">3. Metadata Schema Design</h3>
<p><strong>Decision Required</strong>: Comprehensive metadata structure for all content types
<strong>Critical Elements</strong>:</p>
<ul>
<li>Standardization across diverse source materials</li>
<li>Balance between detail and usability</li>
<li>Automatic vs. manual metadata generation</li>
<li>Evolution and versioning strategy</li>
</ul>
<p><strong>Exploration Needed</strong>:</p>
<ul>
<li>Analysis of existing source material organization</li>
<li>User requirements for filtering and faceting</li>
<li>Automated metadata extraction capabilities</li>
</ul>
<h3 id="4-commercial-vs-open-source-technology-mix">4. Commercial vs. Open Source Technology Mix</h3>
<p><strong>Decision Required</strong>: Optimal balance of commercial and open source components
<strong>Considerations</strong>:</p>
<ul>
<li>Budget constraints and cost predictability</li>
<li>Data privacy and control requirements</li>
<li>Development timeline and resource availability</li>
<li>Long-term maintenance and scaling needs</li>
</ul>
<p><strong>Exploration Needed</strong>:</p>
<ul>
<li>Pilot testing of different technology combinations</li>
<li>Total cost of ownership analysis</li>
<li>Performance and quality comparisons</li>
<li>Risk assessment for vendor dependencies</li>
</ul>
<h3 id="5-advanced-feature-development-priority">5. Advanced Feature Development Priority</h3>
<p><strong>Decision Required</strong>: Roadmap for sophisticated features beyond basic retrieval
<strong>Potential Features</strong>:</p>
<ul>
<li>Synthetic query answering ("What would Thay say about...")</li>
<li>Cross-reference and citation analysis</li>
<li>Temporal analysis of teaching evolution</li>
<li>Thematic clustering and visualization</li>
<li>Collaborative annotation and correction systems</li>
</ul>
<p><strong>Exploration Needed</strong>:</p>
<ul>
<li>User interviews to prioritize feature importance</li>
<li>Technical feasibility assessment for advanced features</li>
<li>Resource requirements for feature development</li>
<li>Integration complexity with core search functionality</li>
</ul>
<h3 id="6-query-response-pair-integration-strategy">6. Query-Response Pair Integration Strategy</h3>
<p><strong>Decision Required</strong>: Optimal use of existing query-response pair prototype
<strong>Options</strong>:</p>
<ul>
<li>Training data for custom embedding fine-tuning</li>
<li>Evaluation benchmarks for system performance</li>
<li>Re-ranking model training data</li>
<li>Query expansion and reformulation examples</li>
</ul>
<p><strong>Exploration Needed</strong>:</p>
<ul>
<li>Quality assessment of existing query-response pairs</li>
<li>Expansion strategies for broader coverage</li>
<li>Integration methods with chosen search architecture</li>
<li>Contribution to overall system performance</li>
</ul>
<h2 id="implementation-phases">Implementation Phases</h2>
<h3 id="phase-1-foundation-development-4-6-weeks">Phase 1: Foundation Development (4-6 weeks)</h3>
<p><strong>Objectives</strong>:</p>
<ul>
<li>Establish core document processing pipeline</li>
<li>Implement basic vector search functionality</li>
<li>Create initial metadata schema</li>
<li>Develop evaluation framework</li>
</ul>
<p><strong>Deliverables</strong>:</p>
<ul>
<li>Document ingestion and processing system</li>
<li>Basic search interface for internal testing</li>
<li>Initial performance benchmarks</li>
<li>Technology stack validation</li>
</ul>
<h3 id="phase-2-enhanced-retrieval-6-8-weeks">Phase 2: Enhanced Retrieval (6-8 weeks)</h3>
<p><strong>Objectives</strong>:</p>
<ul>
<li>Implement sophisticated ranking and filtering</li>
<li>Optimize query processing and understanding</li>
<li>Expand metadata richness and utility</li>
<li>Integrate user feedback mechanisms</li>
</ul>
<p><strong>Deliverables</strong>:</p>
<ul>
<li>Production-quality search system</li>
<li>Comprehensive evaluation results</li>
<li>User training materials and documentation</li>
<li>Performance optimization and scaling plan</li>
</ul>
<h3 id="phase-3-advanced-features-8-12-weeks">Phase 3: Advanced Features (8-12 weeks)</h3>
<p><strong>Objectives</strong>:</p>
<ul>
<li>Develop synthetic query capabilities</li>
<li>Implement collaborative features</li>
<li>Create analytical and visualization tools</li>
<li>Establish long-term maintenance procedures</li>
</ul>
<p><strong>Deliverables</strong>:</p>
<ul>
<li>Feature-complete knowledge base system</li>
<li>Advanced query processing capabilities</li>
<li>Analytics dashboard and reporting tools</li>
<li>Comprehensive system documentation</li>
</ul>
<h2 id="success-criteria">Success Criteria</h2>
<h3 id="technical-success-metrics">Technical Success Metrics</h3>
<ul>
<li>Query response time under 2 seconds for 95% of searches</li>
<li>Relevance scores above 0.8 for top-3 results on benchmark queries</li>
<li>System availability above 99% during operating hours</li>
<li>Support for concurrent users without performance degradation</li>
</ul>
<h3 id="user-success-metrics">User Success Metrics</h3>
<ul>
<li>User satisfaction scores above 4.0/5.0 in system evaluation</li>
<li>Task completion rates above 85% for research queries</li>
<li>Adoption rate above 90% among target user community</li>
<li>Positive feedback on system utility and accuracy</li>
</ul>
<h3 id="content-success-metrics">Content Success Metrics</h3>
<ul>
<li>Coverage of 95% of available source materials</li>
<li>Metadata completeness above 90% for all indexed content</li>
<li>Cross-language retrieval accuracy comparable to single-language performance</li>
<li>Successful handling of all defined query types</li>
</ul>
<p>This design document provides a comprehensive framework for developing the TNH Scholar Knowledge Base while highlighting critical decision points that require further investigation and stakeholder input. The modular approach allows for iterative development and refinement based on user feedback and technical validation.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>