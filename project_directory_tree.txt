.
├── AGENT_WORKFLOW.md
├── AGENTLOG_TEMPLATE.md
├── AGENTLOG.md
├── AGENTS.md
├── archive
│   ├── agentlogs
│   │   ├── AGENTLOG-01-01-26.md
│   │   ├── AGENTLOG-01-09-26.md
│   │   ├── AGENTLOG-01-19-26.md
│   │   ├── AGENTLOG-12-07-25.md
│   │   ├── AGENTLOG-12-10-25.md
│   │   ├── AGENTLOG-12-11-25.md
│   │   ├── AGENTLOG-12-13-25.md
│   │   ├── AGENTLOG-12-23-25.md
│   │   ├── AGENTLOG-12-31-25.md
│   │   └── archive-index.md
│   ├── ISSUE_DRAFT_archive_linking.md
│   └── README.md
├── CHANGELOG.md
├── CONTRIBUTING.md
├── data
│   └── books
│       └── public_books
├── DEV_SETUP.md
├── docs
│   ├── api
│   │   └── index.md
│   ├── architecture
│   │   ├── agent-orchestration
│   │   │   └── archive
│   │   ├── ai-text-processing
│   │   │   ├── adr
│   │   │   │   ├── adr-at01-ai-text-processing.md
│   │   │   │   ├── adr-at02-sectioning-textobject.md
│   │   │   │   ├── adr-at03-object-service-refactor.md
│   │   │   │   ├── adr-at03.1-transition-plan.md
│   │   │   │   ├── adr-at03.2-numberedtext-validation.md
│   │   │   │   ├── adr-at03.3-textobject-robustness.md
│   │   │   │   ├── adr-at04-ai-text-processing-platform-strat.md
│   │   │   │   └── index.md
│   │   │   ├── design
│   │   │   │   ├── data-flow-through-pipeline.mermaid
│   │   │   │   ├── index.md
│   │   │   │   ├── textobject-original-design.md
│   │   │   │   └── textobject-system-design.md
│   │   │   └── index.md
│   │   ├── configuration
│   │   │   ├── adr
│   │   │   │   └── adr-cf01-runtime-context-strategy.md
│   │   │   ├── index.md
│   │   │   └── tnh-configuration-management.md
│   │   ├── docs-system
│   │   │   ├── adr
│   │   │   │   ├── adr-dd01-docs-reorg-strategy.md
│   │   │   │   ├── adr-dd02-main-content-nav.md
│   │   │   │   ├── adr-dd03-pattern-to-prompt.md
│   │   │   │   ├── adr-dd03-phase1-punchlist.md
│   │   │   │   └── index.md
│   │   │   ├── design
│   │   │   │   ├── documentation-design.md
│   │   │   │   └── index.md
│   │   │   └── index.md
│   │   ├── gen-ai-service
│   │   │   ├── adr
│   │   │   │   ├── adr-a01-object-service-genai.md
│   │   │   │   ├── adr-a02-patterncatalog-integration-v1.md
│   │   │   │   ├── adr-a08-config-params-policy-taxonomy.md
│   │   │   │   ├── adr-a09-v1-simplified.md
│   │   │   │   ├── adr-a11-model-parameters-fix.md
│   │   │   │   ├── adr-a12-prompt-system-fingerprinting-v1.md
│   │   │   │   ├── adr-a13-migrate-openai-to-genaiservice.md
│   │   │   │   ├── adr-a14-file-based-registry-system.md
│   │   │   │   ├── adr-a14.1-registry-staleness-detection.md
│   │   │   │   ├── adr-a15-thread-safety-rate-limiting.md
│   │   │   │   └── index.md
│   │   │   ├── design
│   │   │   │   ├── genai-service-design-strategy.md
│   │   │   │   ├── index.md
│   │   │   │   └── openai-interface-migration-plan.md
│   │   │   └── index.md
│   │   ├── index.md
│   │   ├── jvb-viewer
│   │   │   ├── adr
│   │   │   │   ├── adr-jv03-canonical-xml-ast.md
│   │   │   │   └── adr-jvb01_as-built_jvb_viewer_v1.md
│   │   │   ├── design
│   │   │   │   ├── generate-md-translation-json-pairs.md
│   │   │   │   ├── generate-md-vietnamese.md
│   │   │   │   ├── index.md
│   │   │   │   ├── jvb-viewer-v2-strategy.md
│   │   │   │   └── luan-hoi.md
│   │   │   └── index.md
│   │   ├── knowledge-base
│   │   │   ├── adr
│   │   │   │   ├── adr-k01-kb-architecture-strategy.md
│   │   │   │   └── index.md
│   │   │   └── index.md
│   │   ├── metadata
│   │   │   ├── adr
│   │   │   │   ├── adr-md01-json-ld-metadata.md
│   │   │   │   ├── adr-md02-metadata-object-service-integration.md
│   │   │   │   └── index.md
│   │   │   └── index.md
│   │   ├── object-service
│   │   │   ├── adr
│   │   │   │   ├── adr-os01-object-service-architecture-v3.md
│   │   │   │   └── index.md
│   │   │   ├── index.md
│   │   │   ├── object-service-design-gaps.md
│   │   │   ├── object-service-design-overview.md
│   │   │   └── object-service-implementation-status.md
│   │   ├── overview.md
│   │   ├── project-policies
│   │   │   ├── adr
│   │   │   │   ├── adr-pp01-rapid-prototype-versioning.md
│   │   │   │   └── index.md
│   │   │   ├── index.md
│   │   │   └── versioning-policy-implementation-summary.md
│   │   ├── prompt-system
│   │   │   ├── adr
│   │   │   │   ├── adr-pt03-prompt-system-status-roadmap.md
│   │   │   │   ├── adr-pt04-prompt-system-refactor.md
│   │   │   │   └── index.md
│   │   │   ├── archive
│   │   │   │   ├── adr
│   │   │   │   │   ├── adr-pt01-pattern-access-strategy.md
│   │   │   │   │   ├── adr-pt02-adopt-pattern-and-patterncatalog.md
│   │   │   │   │   └── index.md
│   │   │   │   ├── core-pattern-architecture.md
│   │   │   │   └── README.md
│   │   │   ├── index.md
│   │   │   └── prompt-system-architecture.md
│   │   ├── provenance
│   │   │   ├── adr
│   │   │   │   └── adr-pv01-provenance-tracing-strat.md
│   │   │   └── index.md
│   │   ├── setup-tnh
│   │   │   ├── design
│   │   │   │   ├── index.md
│   │   │   │   └── setup-tnh-minimal-extensible-tool.md
│   │   │   └── index.md
│   │   ├── tnh-gen
│   │   │   ├── adr
│   │   │   │   ├── adr-tg01-cli-architecture.md
│   │   │   │   ├── adr-tg01.1-human-friendly-defaults.md
│   │   │   │   ├── adr-tg02-prompt-integration.md
│   │   │   │   └── index.md
│   │   │   ├── design
│   │   │   │   └── archive
│   │   │   │       ├── README.md
│   │   │   │       ├── tnh-fab-cli-spec.md
│   │   │   │       └── tnh-fab-design-document.md
│   │   │   └── index.md
│   │   ├── transcription
│   │   │   ├── adr
│   │   │   │   ├── adr-tr01-assemblyai-integration.md
│   │   │   │   ├── adr-tr02-optimized-srt-design.md
│   │   │   │   ├── adr-tr03-ms-timestamps.md
│   │   │   │   ├── adr-tr04-assemblyai-improvements.md
│   │   │   │   └── index.md
│   │   │   ├── design
│   │   │   │   ├── audio-chunking-design.md
│   │   │   │   ├── diarization-algorithms.md
│   │   │   │   ├── diarization-chunker-design.md
│   │   │   │   ├── diarization-system-design.md
│   │   │   │   ├── gpt-pipeline-overview.txt
│   │   │   │   ├── index.md
│   │   │   │   ├── interval-to-segment-mapping.md
│   │   │   │   ├── language-aware-chunking-design.md
│   │   │   │   ├── language-aware-chunking-orchestrator-notes.md
│   │   │   │   ├── modular-pipeline-best-practices.md
│   │   │   │   ├── practical-language-aware-chunking.md
│   │   │   │   ├── speaker-diarization-algorithm-design.md
│   │   │   │   ├── speaker-diarization-time-mapped-design.md
│   │   │   │   └── timelinemapper-design.md
│   │   │   └── index.md
│   │   ├── ui-ux
│   │   │   ├── design
│   │   │   │   ├── index.md
│   │   │   │   └── vs-code-as-ui-platform.md
│   │   │   ├── index.md
│   │   │   └── vs-code-integration
│   │   │       ├── adr-vsc01-vscode-integration-strategy.md
│   │   │       ├── adr-vsc02-tnh-gen-cli-implementation.md
│   │   │       ├── adr-vsc03-python-javascript-impedance-investigation.md
│   │   │       ├── adr-vsc03.1-findings.md
│   │   │       ├── adr-vsc03.2-real-world-survey-addendum.md
│   │   │       ├── adr-vsc03.3-investigation-synthesis.md
│   │   │       └── index.md
│   │   ├── utilities
│   │   │   ├── design
│   │   │   │   ├── index.md
│   │   │   │   ├── package-version-checker-design.md
│   │   │   │   └── utilities-catalog.md
│   │   │   └── index.md
│   │   ├── video-processing
│   │   │   ├── adr
│   │   │   │   ├── adr-vp01-video-processing.md
│   │   │   │   └── index.md
│   │   │   └── index.md
│   │   └── ytt-fetch
│   │       ├── adr
│   │       │   ├── adr-yf00-early-decisions.md
│   │       │   ├── adr-yf01-yt-transcript-source-handling.md
│   │       │   ├── adr-yf02-yt-transcript-format-selection.md
│   │       │   └── index.md
│   │       ├── design
│   │       │   ├── index.md
│   │       │   └── youtube-api-vs-yt-dlp-eval.md
│   │       └── index.md
│   ├── archive
│   │   ├── index-old.md
│   │   └── README.md
│   ├── cli-reference
│   │   ├── archive
│   │   │   ├── README.md
│   │   │   └── tnh-fab.md
│   │   ├── audio-transcribe.md
│   │   ├── index.md
│   │   ├── json-to-srt.md
│   │   ├── nfmt.md
│   │   ├── overview.md
│   │   ├── sent-split.md
│   │   ├── srt-translate.md
│   │   ├── tnh-gen.md
│   │   ├── tnh-setup.md
│   │   ├── token-count.md
│   │   └── ytt-fetch.md
│   ├── community
│   │   ├── index.md
│   │   └── parallax-overview.md
│   ├── development
│   │   ├── contributing-prototype-phase.md
│   │   ├── design-principles.md
│   │   ├── fine-tuning-strategy.md
│   │   ├── git-workflow.md
│   │   ├── human-ai-software-engineering-principles.md
│   │   ├── improvements-initial-structure.md
│   │   ├── incident-reports
│   │   │   ├── 2025-12-07-git-recovery.md
│   │   │   ├── 2025-12-07-reference
│   │   │   │   ├── compaction-summary.txt
│   │   │   │   ├── convo-with-hard-reset.txt
│   │   │   │   ├── forensic-analysis.md
│   │   │   │   ├── implementation-summary.md
│   │   │   │   ├── incident-report-updates.md
│   │   │   │   └── index.md
│   │   │   ├── index.md
│   │   │   └── tag-v0.2.0-correction-plan.md
│   │   ├── index.md
│   │   ├── overview.md
│   │   ├── release-workflow.md
│   │   ├── style-guide.md
│   │   └── system-design.md
│   ├── docs-ops
│   │   ├── adr-template.md
│   │   ├── index.md
│   │   ├── markdown-standards.md
│   │   ├── mkdocs-strict-warning-backlog.md
│   │   ├── preview-theme.md
│   │   └── theme-design.md
│   ├── documentation_index.md
│   ├── documentation_map.md
│   ├── getting-started
│   │   ├── configuration.md
│   │   ├── index.md
│   │   ├── installation.md
│   │   └── quick-start-guide.md
│   ├── index.md
│   ├── overrides
│   │   └── main.html
│   ├── project
│   │   ├── conceptual-architecture.md
│   │   ├── future-directions.md
│   │   ├── index.md
│   │   ├── philosophy.md
│   │   ├── principles.md
│   │   └── vision.md
│   ├── research
│   │   ├── gpt_4o_toc_tag_generation_testing
│   │   │   └── Nov_2_testing_TOC_label_prompt.txt
│   │   ├── gpt_development_convos.md
│   │   ├── gpt4o-search-query-testing
│   │   │   ├── index.md
│   │   │   ├── queries-1-3-words.md
│   │   │   └── sample_text.txt
│   │   ├── gpt4o-translation-experiments
│   │   │   ├── index.md
│   │   │   └── passage_test.md
│   │   ├── index.md
│   │   ├── kb-design-document.md
│   │   ├── metadata-summary-report.md
│   │   ├── preliminary-feasibility-study.md
│   │   ├── rag-research-directions.md
│   │   └── siap-methodology.md
│   ├── stylesheets
│   │   └── tnh-zen.css
│   └── user-guide
│       ├── best-practices.md
│       ├── index.md
│       ├── overview.md
│       └── prompt-system.md
├── docs_build_output.txt
├── evaluation
├── LICENSE
├── Makefile
├── mkdocs.yaml
├── mypy_errors.txt
├── notebook_management.ipynb
├── notebooks
│   ├── ai_text_processing
│   │   ├── patterns.ipynb
│   │   └── section_processing_tests.ipynb
│   ├── audio_processing
│   │   └── pyannote_test.ipynb
│   ├── diarization
│   │   ├── audio-speech-preprocess
│   │   │   └── audio_enhance.ipynb
│   │   ├── diarize_and_transcribe.ipynb
│   │   ├── diarize_pyannote.ipynb
│   │   ├── diarize_split0.ipynb
│   │   ├── diarize_split1.ipynb
│   │   ├── full_pipe0.ipynb
│   │   ├── full_pipe1.ipynb
│   │   ├── full_pipe2.ipynb
│   │   ├── full_pipe3.ipynb
│   │   └── speech_detect.ipynb
│   ├── html_viewing
│   │   ├── tx_journal_to_html.ipynb
│   │   └── tx_viewer.css
│   ├── journal_processing
│   │   ├── batch_start_error.py
│   │   ├── full_journal_process.ipynb
│   │   ├── gpt_interface_testing.ipynb
│   │   ├── journal_cleaning1.ipynb
│   │   ├── journal_cleaning2.ipynb
│   │   ├── journal_flow_2_step.ipynb
│   │   ├── journal_flow_2_step2.ipynb
│   │   ├── journal_processing1.ipynb
│   │   ├── journal_processing2.ipynb
│   │   ├── journal_processing3.ipynb
│   │   ├── journal_processing4.ipynb
│   │   ├── journal_processing5.ipynb
│   │   ├── journal_processing6.ipynb
│   │   ├── journal_processing7.ipynb
│   │   ├── journal_processing8.ipynb
│   │   ├── run_journal_batches.py
│   │   └── test.xml
│   ├── nlp processing
│   │   └── test_sentence_splitting.ipynb
│   ├── ocr_processing
│   │   ├── ocr_hand_checking.ipynb
│   │   ├── ocr_testing_asynch_batches.ipynb
│   │   ├── ocr_testing.ipynb
│   │   ├── ocr_testing1.ipynb
│   │   ├── ocr_testing2.ipynb
│   │   ├── ocr_testing3.ipynb
│   │   ├── ocr_testing4.ipynb
│   │   ├── ocr_testing5.ipynb
│   │   ├── ocr_testing6.ipynb
│   │   └── ocr_testing7.ipynb
│   ├── query_text_generation
│   │   ├── model_testing_prompt.txt
│   │   └── prompt_sequence1.ipynb
│   ├── testing
│   │   ├── CLI_test.ipynb
│   │   ├── gen_ai_service
│   │   │   └── service_test.ipynb
│   │   ├── get_ytdlp_help.ipynb
│   │   ├── github_dl_test.ipynb
│   │   ├── logging_config
│   │   │   └── logging_config_test.ipynb
│   │   ├── logtesting.ipynb
│   │   ├── package_contents_tests.ipynb
│   │   ├── pydantic_text_obj_error.ipynb
│   │   ├── sanitize_testing.ipynb
│   │   ├── test_patterns
│   │   │   ├── default_line_translation.md
│   │   │   ├── default_punctuate.md
│   │   │   ├── default_section_old.md
│   │   │   ├── default_section.md
│   │   │   ├── default_xml_format.md
│   │   │   ├── default_xml_paragraph_format.md
│   │   │   ├── extract_wisdom_section.md
│   │   │   ├── extract_wisdom1.md
│   │   │   ├── extract_wisdom2.md
│   │   │   ├── generate_markdown.md
│   │   │   ├── generate_sections_en.md
│   │   │   ├── generate_sections_multi_lang.md
│   │   │   ├── identify_speakers.md
│   │   │   ├── repair_markdown_strategy.md
│   │   │   ├── repair_markdown.md
│   │   │   ├── simple_punctuate.md
│   │   │   ├── simple_translate_paragraph_thay.md
│   │   │   ├── special
│   │   │   │   └── test_special_pattern.md
│   │   │   ├── translate_lines_thay_audio.md
│   │   │   ├── translate_section_thay_en.md
│   │   │   └── xml_format_dt_section_en.md
│   │   ├── transcription-engine
│   │   │   ├── transciption0.ipynb
│   │   │   └── transciption1.ipynb
│   │   ├── waveform-diarization
│   │   │   ├── app1.py
│   │   │   ├── app2.py
│   │   │   └── wavesurf_test.html
│   │   ├── youtube_metadata_explore.ipynb
│   │   ├── yt_fetch_test.ipynb
│   │   └── ytdlp_version_test.ipynb
│   ├── text_processing
│   │   ├── epub_based_testing1.ipynb
│   │   ├── epub_parsing_LiA.ipynb
│   │   ├── epub_parsing_testing2.ipynb
│   │   ├── match_sectioning.ipynb
│   │   ├── old_clean_parse_testing.ipynb
│   │   ├── text_metadata_tagging.ipynb
│   │   ├── text_object_testing.ipynb
│   │   ├── text_tagging_formatting_xml_checks.ipynb
│   │   ├── textbased_script_testing1.ipynb
│   │   ├── textbased_testing2.ipynb
│   │   └── xml_to_pdf_work.ipynb
│   └── video_processing
│       ├── batch_recovery.ipynb
│       ├── collating.ipynb
│       ├── output_adjustment_system_messages.md
│       ├── postprocessing_english.ipynb
│       ├── postprocessing_viet.ipynb
│       ├── process_stepwise.ipynb
│       ├── repair_process.ipynb
│       ├── results-archive
│       │   └── output_adjustment_system_messages.md
│       ├── tests_and_prototypes
│       │   ├── audio_extract_testing1.ipynb
│       │   ├── audio_extract_testing2.ipynb
│       │   ├── audio_extract_testing3.ipynb
│       │   ├── audio_extract_testing4.ipynb
│       │   ├── omp_fix.ipynb
│       │   ├── post_processing_tests.ipynb
│       │   ├── postprocessing_tests2.ipynb
│       │   └── video_processing_refactor_test.ipynb
│       ├── video_download.ipynb
│       └── youtube_playlist_process.ipynb
├── poetry.lock
├── poetry.toml
├── project_directory_tree.txt
├── pyproject.toml
├── README.md
├── release_checklist.md
├── scripts
│   ├── append_doc_map_to_index.py
│   ├── check_readme_docs_drift.py
│   ├── convert_relative_links.py
│   ├── generate_changelog_entry.py
│   ├── generate_doc_index.py
│   ├── generate_index_md.py
│   ├── generate_mkdocs_nav.py
│   ├── generate_subdir_indexes.py
│   ├── generate_tree.py
│   ├── git-check-staleness.sh
│   ├── prep_notebooks.py
│   ├── prepare_pypi_readme.py
│   ├── sync_readme.py
│   ├── sync_root_docs.py
│   ├── update_index_doc_map.py
│   ├── update_version.py
│   ├── validate_markdown.py
│   └── verify_doc_links.py
├── src
│   ├── __init__.py
│   ├── sitecustomize.py
│   └── tnh_scholar
│       ├── __init__.py
│       ├── agent_orchestration
│       │   ├── codex_harness
│       │   │   └── providers
│       │   └── spike
│       │       ├── adapters
│       │       └── providers
│       ├── ai_text_processing
│       │   ├── __init__.py
│       │   ├── ai_text_processing.py
│       │   ├── general_processor.py
│       │   ├── line_translator.py
│       │   ├── openai_process_interface.py
│       │   ├── prompts.py
│       │   ├── response_format.py
│       │   ├── section_processor.py
│       │   ├── text_object.py
│       │   └── typing.py
│       ├── audio_processing
│       │   ├── __init__.py
│       │   ├── audio_legacy.py
│       │   ├── diarization
│       │   │   ├── __init__.py
│       │   │   ├── _diarization_utils.py
│       │   │   ├── audio
│       │   │   │   ├── __init__.py
│       │   │   │   ├── config.py
│       │   │   │   └── handler.py
│       │   │   ├── chunker.py
│       │   │   ├── config.py
│       │   │   ├── models.py
│       │   │   ├── protocols.py
│       │   │   ├── pyannote_adapter.py
│       │   │   ├── pyannote_client.py
│       │   │   ├── pyannote_diarize.py
│       │   │   ├── reaper
│       │   │   │   └── reaper_roundtrip_poc.py
│       │   │   ├── schemas.py
│       │   │   ├── strategies
│       │   │   │   ├── __init__.py
│       │   │   │   ├── language_based.py
│       │   │   │   ├── language_probe.py
│       │   │   │   ├── speaker_blocker.py
│       │   │   │   └── time_gap.py
│       │   │   ├── timeline_mapper.py
│       │   │   ├── types.py
│       │   │   └── viewer.py
│       │   ├── timed_object
│       │   │   ├── __init__.py
│       │   │   └── timed_text.py
│       │   ├── transcription
│       │   │   ├── __init__.py
│       │   │   ├── assemblyai_service.py
│       │   │   ├── format_converter.py
│       │   │   ├── patches.py
│       │   │   ├── srt_processor.py
│       │   │   ├── text_segment_builder.py
│       │   │   ├── transcription_service.py
│       │   │   ├── vtt_processor.py
│       │   │   └── whisper_service.py
│       │   ├── utils
│       │   │   ├── __init__.py
│       │   │   ├── audio_enhance.py
│       │   │   └── playback.py
│       │   └── whisper_security.py
│       ├── cli_tools
│       │   ├── __init__.py
│       │   ├── audio_transcribe
│       │   │   ├── __init__.py
│       │   │   ├── audio_transcribe.py
│       │   │   ├── config.py
│       │   │   ├── convert_video.py
│       │   │   ├── environment
│       │   │   │   ├── __init__.py
│       │   │   │   ├── env.py
│       │   │   │   └── requirements.txt
│       │   │   ├── transcription_pipeline.py
│       │   │   ├── validate.py
│       │   │   └── version_check.py
│       │   ├── json_to_srt
│       │   │   ├── __init__.py
│       │   │   ├── json_to_srt.py
│       │   │   └── json_to_srt1.py
│       │   ├── nfmt
│       │   │   ├── __init__.py
│       │   │   └── nfmt.py
│       │   ├── sent_split
│       │   │   ├── __init__.py
│       │   │   ├── sent_split_bak.py
│       │   │   └── sent_split.py
│       │   ├── srt_translate
│       │   │   ├── __init__.py
│       │   │   └── srt_translate.py
│       │   ├── tnh_conductor_spike
│       │   ├── tnh_gen
│       │   │   ├── __init__.py
│       │   │   ├── commands
│       │   │   │   ├── __init__.py
│       │   │   │   ├── config.py
│       │   │   │   ├── list.py
│       │   │   │   ├── run.py
│       │   │   │   └── version.py
│       │   │   ├── config_loader.py
│       │   │   ├── errors.py
│       │   │   ├── factory.py
│       │   │   ├── output
│       │   │   │   ├── __init__.py
│       │   │   │   ├── formatter.py
│       │   │   │   ├── human_formatter.py
│       │   │   │   ├── policy.py
│       │   │   │   └── provenance.py
│       │   │   ├── state.py
│       │   │   ├── tnh_gen.py
│       │   │   └── types.py
│       │   ├── tnh_setup
│       │   │   ├── __init__.py
│       │   │   └── tnh_setup.py
│       │   ├── tnh_tree.py
│       │   ├── token_count
│       │   │   ├── __init__.py
│       │   │   └── token_count.py
│       │   ├── utils.py
│       │   └── ytt_fetch
│       │       ├── __init__.py
│       │       └── ytt_fetch.py
│       ├── configuration
│       │   ├── __init__.py
│       │   └── context.py
│       ├── exceptions.py
│       ├── gen_ai_service
│       │   ├── adapters
│       │   │   ├── __init__.py
│       │   │   ├── registry
│       │   │   │   ├── __init__.py
│       │   │   │   ├── jsonc_parser.py
│       │   │   │   └── override_merger.py
│       │   │   └── simple_completion.py
│       │   ├── config
│       │   │   ├── __init__.py
│       │   │   ├── params_policy.py
│       │   │   ├── registry.py
│       │   │   ├── schemas.py
│       │   │   └── settings.py
│       │   ├── infra
│       │   │   ├── __init__.py
│       │   │   ├── issue_handler.py
│       │   │   ├── metrics.py
│       │   │   ├── rate_limit.py
│       │   │   ├── retry_policy.py
│       │   │   ├── tracer.py
│       │   │   ├── tracking
│       │   │   │   ├── fingerprint.py
│       │   │   │   └── provenance.py
│       │   │   └── usage.py
│       │   ├── mappers
│       │   │   └── completion_mapper.py
│       │   ├── models
│       │   │   ├── __init__.py
│       │   │   ├── domain.py
│       │   │   ├── errors.py
│       │   │   ├── registry.py
│       │   │   └── transport.py
│       │   ├── pattern_catalog
│       │   │   ├── __init__.py
│       │   │   ├── adapters
│       │   │   │   ├── __init__.py
│       │   │   │   └── prompts_adapter.py
│       │   │   ├── catalog.py
│       │   │   └── render.py
│       │   ├── ports
│       │   │   ├── __init__.py
│       │   │   └── genai_port.py
│       │   ├── protocols.py
│       │   ├── providers
│       │   │   ├── __init__.py
│       │   │   ├── anthropic_adapter.py
│       │   │   ├── base.py
│       │   │   ├── openai_adapter.py
│       │   │   └── openai_client.py
│       │   ├── routing
│       │   │   ├── __init__.py
│       │   │   ├── intents.py
│       │   │   └── model_router.py
│       │   ├── runtime_assets
│       │   │   └── policies
│       │   │       ├── params
│       │   │       │   └── config_params_policy.yaml
│       │   │       └── safety
│       │   │           ├── post_check.yaml
│       │   │           └── pre_check.yaml
│       │   ├── safety
│       │   │   ├── __init__.py
│       │   │   ├── rules.py
│       │   │   └── safety_gate.py
│       │   ├── service.py
│       │   └── utils
│       │       ├── __init__.py
│       │       ├── response_utils.py
│       │       └── token_utils.py
│       ├── journal_processing
│       │   ├── __init__.py
│       │   └── journal_process.py
│       ├── logging_config.py
│       ├── metadata
│       │   ├── __init__.py
│       │   └── metadata.py
│       ├── ocr_processing
│       │   ├── __init__.py
│       │   ├── development
│       │   │   ├── st_test.py
│       │   │   ├── st_test2.py
│       │   │   ├── st_test3.py
│       │   │   ├── st_test4.py
│       │   │   ├── st_test5.py
│       │   │   └── st_test6.py
│       │   ├── ocr_editor.py
│       │   └── ocr_processing.py
│       ├── openai_interface
│       ├── pattern_share
│       │   ├── app.py
│       │   └── requirements.txt
│       ├── prompt_system
│       │   ├── __init__.py
│       │   ├── adapters
│       │   │   ├── __init__.py
│       │   │   ├── filesystem_catalog_adapter.py
│       │   │   └── git_catalog_adapter.py
│       │   ├── config
│       │   │   ├── __init__.py
│       │   │   ├── policy.py
│       │   │   ├── prompt_catalog_config.py
│       │   │   └── settings.py
│       │   ├── domain
│       │   │   ├── __init__.py
│       │   │   ├── models.py
│       │   │   └── protocols.py
│       │   ├── mappers
│       │   │   ├── __init__.py
│       │   │   └── prompt_mapper.py
│       │   ├── service
│       │   │   ├── __init__.py
│       │   │   ├── loader.py
│       │   │   ├── renderer.py
│       │   │   └── validator.py
│       │   └── transport
│       │       ├── __init__.py
│       │       ├── cache.py
│       │       ├── filesystem.py
│       │       ├── git_client.py
│       │       └── models.py
│       ├── query
│       │   ├── initial_cleaning_scripts.py
│       │   ├── parse_tag.py
│       │   └── v2_cleaning_scripts.py
│       ├── runtime_assets
│       │   └── registries
│       │       └── providers
│       │           ├── openai.jsonc
│       │           └── schema.json
│       ├── text_processing
│       │   ├── __init__.py
│       │   ├── bracket.py
│       │   ├── match_section.py
│       │   ├── numbered_text.py
│       │   └── text_processing.py
│       ├── tools
│       │   ├── __init__.py
│       │   ├── notebook_prep.py
│       │   └── tree_builder.py
│       ├── utils
│       │   ├── __init__.py
│       │   ├── file_utils.py
│       │   ├── json_utils.py
│       │   ├── lang.py
│       │   ├── math_utils.py
│       │   ├── progress_utils.py
│       │   ├── timing_utils.py
│       │   ├── tnh_audio_segment.py
│       │   ├── user_io_utils.py
│       │   ├── validate.py
│       │   ├── version_check
│       │   │   ├── __init__.py
│       │   │   ├── cache.py
│       │   │   ├── checker.py
│       │   │   ├── cli.py
│       │   │   ├── config.py
│       │   │   ├── models.py
│       │   │   ├── providers.py
│       │   │   └── strategies.py
│       │   └── webhook_server.py
│       ├── video_processing
│       │   ├── __init__.py
│       │   ├── video_processing_old1.py
│       │   ├── video_processing_old2.py
│       │   ├── video_processing.py
│       │   └── yt_transcribe.py
│       └── xml_processing
│           ├── __init__.py
│           ├── extract_tags.py
│           └── xml_processing.py
├── src_directory_tree.txt
├── tests
│   ├── agent_orchestration
│   ├── ai_text_processing
│   │   └── test_text_object.py
│   ├── audio_processing
│   │   ├── diarization
│   │   │   └── test_schemas.py
│   │   └── transcription
│   │       ├── test_assemblyai_service_options.py
│   │       └── test_transcription_service_factory.py
│   ├── cli_tools
│   │   ├── test_audio_transcribe_pipeline.py
│   │   ├── test_other_clis.py
│   │   ├── test_tnh_gen_coverage.py
│   │   ├── test_tnh_gen.py
│   │   └── test_token_count.py
│   ├── gen_ai_service
│   │   ├── adapters
│   │   │   ├── __init__.py
│   │   │   └── registry
│   │   │       ├── __init__.py
│   │   │       └── test_jsonc_parser.py
│   │   ├── test_completion_mapper.py
│   │   ├── test_policy_routing_safety.py
│   │   ├── test_registry_loader.py
│   │   ├── test_registry_staleness.py
│   │   ├── test_registry_tier_metadata.py
│   │   ├── test_service.py
│   │   ├── test_settings.py
│   │   ├── test_simple_completion.py
│   │   └── utils
│   │       ├── __init__.py
│   │       ├── test_response_utils.py
│   │       └── test_token_utils.py
│   ├── journal_processing
│   │   └── test_journal_process_batch.py
│   ├── openai_interface
│   ├── openai_text_processing
│   ├── prompt_system
│   │   ├── test_catalog_adapters.py
│   │   ├── test_git_catalog.py
│   │   ├── test_loader.py
│   │   ├── test_models.py
│   │   ├── test_renderer.py
│   │   └── test_validator.py
│   ├── text_processing
│   │   └── test_numbered_text.py
│   └── utils
│       └── test_math_utils.py
├── TODO.md
├── VERSIONING.md
└── vscode-extension
    └── tnh-scholar
        ├── package-lock.json
        ├── package.json
        ├── src
        │   ├── extension.ts
        │   ├── models
        │   │   ├── api_payloads.ts
        │   │   └── settings.ts
        │   ├── protocols
        │   │   └── extension_protocols.ts
        │   ├── services
        │   │   ├── cli_adapter.ts
        │   │   ├── cli_args_builder.ts
        │   │   ├── cli_errors.ts
        │   │   ├── config_manager.ts
        │   │   ├── diagnostics_service.ts
        │   │   ├── editor_service.ts
        │   │   ├── file_service.ts
        │   │   ├── output_channel.ts
        │   │   └── prompt_runner.ts
        │   ├── test
        │   │   ├── integration
        │   │   │   ├── extension.test.ts
        │   │   │   └── refresh_catalog.test.ts
        │   │   ├── runTest.ts
        │   │   ├── suite
        │   │   │   └── index.ts
        │   │   └── unit
        │   │       ├── cli_adapter.test.ts
        │   │       ├── cli_args_builder.test.ts
        │   │       └── path_utils.test.ts
        │   └── utils
        │       └── path_utils.ts
        └── tsconfig.json

200 directories, 659 files
