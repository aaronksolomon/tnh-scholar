
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Platform architecture for extensible, evaluation-driven text processing with strategy polymorphism and context fidelity">
      
      
        <meta name="author" content="Aaron Solomon, Claude Sonnet 4.5">
      
      
      
        <link rel="prev" href="../adr-at03.3-textobject-robustness/">
      
      
        <link rel="next" href="../../design/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>ADR-AT04: AI Text Processing Platform Strategy - TNH Scholar Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/tnh-zen.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <!-- Google Fonts - Zen typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Source+Serif+4:wght@200;300;400;500&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- Custom meta for mindful documentation -->
  <meta name="description" content="TNH Scholar - AI-powered tools for studying and translating Thich Nhat Hanh's teachings">
  <meta name="keywords" content="Thich Nhat Hanh, Buddhism, mindfulness, AI, translation, Vietnamese, Plum Village">

  
  <style>
    /* Material theme color overrides for zen aesthetic */
    :root,
    [data-md-color-scheme="slate"] {
      /* Override Material's slate colors with our zen palette */
      --md-primary-fg-color: #2d2d2d;
      --md-primary-fg-color--light: #3d3d3d;
      --md-primary-fg-color--dark: #1a1a1a;
      --md-accent-fg-color: #7a9b76;
      --md-accent-fg-color--transparent: rgba(122, 155, 118, 0.1);

      /* Background colors */
      --md-default-bg-color: #1a1a1a;
      --md-default-fg-color: #e8e4d8;
      --md-default-fg-color--light: #b8b4a8;
      --md-default-fg-color--lighter: #8a8680;
      --md-default-fg-color--lightest: #5a5650;

      /* Code colors */
      --md-code-bg-color: #252525;
      --md-code-fg-color: #c9a961;

      /* Typography */
      --md-typeset-color: #e8e4d8;
      --md-typeset-a-color: #6b8e9e;

      /* Shadows - subtle and organic */
      --md-shadow-z1: 0 2px 4px rgba(0, 0, 0, 0.3);
      --md-shadow-z2: 0 4px 8px rgba(0, 0, 0, 0.4);
      --md-shadow-z3: 0 8px 16px rgba(0, 0, 0, 0.5);
    }
  </style>
  

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adr-at04-ai-text-processing-platform-strategy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <!-- Optional: Mindful announcement banner -->
  <!--
  <div style="background: linear-gradient(90deg, rgba(122,155,118,0.1) 0%, rgba(107,142,158,0.1) 100%);
              padding: 0.75rem;
              text-align: center;
              font-size: 0.9rem;
              color: #b8b4a8;
              border-bottom: 1px solid #3d3d3d;">
    üåø Walking mindfully through documentation
  </div>
  -->

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="TNH Scholar Documentation" class="md-header__button md-logo" aria-label="TNH Scholar Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TNH Scholar Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ADR-AT04: AI Text Processing Platform Strategy
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aaronksolomon/tnh-scholar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="TNH Scholar Documentation" class="md-nav__button md-logo" aria-label="TNH Scholar Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TNH Scholar Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aaronksolomon/tnh-scholar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../getting-started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/quick-start-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start Guide
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../user-guide/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Guide
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Guide Overview
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/prompt-system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Prompt System
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../project/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Project
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/conceptual-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conceptual Architecture of TNH-Scholar
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/future-directions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Future Directions of TNH-Scholar
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/philosophy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Scholar Project Philosophy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Scholar Project Principles
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/vision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Scholar Project Vision
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../community/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Community & Outreach
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Community & Outreach
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../community/parallax-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Scholar: Project Overview for Parallax Press & Plum Village Editorial Community
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../project/repo-root/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Repo Root
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Repo Root
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar CHANGELOG
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/contributing-root/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar CONTRIBUTING
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/dev-setup-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Scholar DEV_SETUP
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/release_checklist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Release Checklist
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/repo-readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar README
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/todo-list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar TODO List
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../project/repo-root/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Versioning Policy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../cli-reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    CLI Reference
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            CLI Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/audio-transcribe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    audio-transcribe
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/json-to-srt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json-to-srt
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/nfmt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nfmt
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Line Tools Overview
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/sent-split/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sent-split
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/srt-translate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    srt-translate
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/tnh-gen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tnh-gen
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/tnh-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tnh-setup
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/token-count/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    token-count
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli-reference/ytt-fetch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ytt-fetch
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Architecture
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Overview
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" >
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Agent Orchestration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            Agent Orchestration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/system-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Scholar Agent Orchestration System
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../agent-orchestration/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Agent Orchestration ADRs
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_3_2" id="__nav_9_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_2">
            <span class="md-nav__icon md-icon"></span>
            Agent Orchestration ADRs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/adr/adr-oa01-agent-orchestration-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-OA01: TNH-Conductor ‚Äî Provenance-Driven AI Workflow Coordination
  </span>
  
    
  
  
    <span class="md-status md-status--accepted"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/adr/adr-oa02-phase-0-protocol-spike/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-OA02: Phase 0 Protocol Layer Spike
  </span>
  
    
  
  
    <span class="md-status md-status--paused"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/adr/adr-oa03-agent-runner-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-OA03: Agent Runner Architecture
  </span>
  
    
  
  
    <span class="md-status md-status--paused"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/adr/adr-oa03.1-claude-code-runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-OA03.1: Claude Code Runner
  </span>
  
    
  
  
    <span class="md-status md-status--paused"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/adr/adr-oa03.2-codex-runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-OA03.2: Codex Runner
  </span>
  
    
  
  
    <span class="md-status md-status--paused"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_3" >
        
          
          <label class="md-nav__link" for="__nav_9_3_3" id="__nav_9_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_3">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/notes/codex-harness-e2e-report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Codex Harness End-to-End Test Report
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent-orchestration/notes/codex-harness-spike-findings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Codex Harness Spike Findings
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ai Text Processing
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_5" checked>
        
          
          <label class="md-nav__link" for="__nav_9_5" id="__nav_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI Text Processing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_5">
            <span class="md-nav__icon md-icon"></span>
            AI Text Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_5_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_5_1" id="__nav_9_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_5_1">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr-at01-ai-text-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-AT01: AI Text Processing Pipeline Redesign
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr-at02-sectioning-textobject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-AT02: TextObject Architecture Decision Records
  </span>
  
    
  
  
    <span class="md-status md-status--archived"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr-at03-object-service-refactor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-AT03: Minimal AI Text Processing Refactor for tnh-gen
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr-at03.1-transition-plan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-AT03.1: AT03‚ÜíAT04 Transition Plan
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr-at03.2-numberedtext-validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-AT03.2: NumberedText Section Boundary Validation
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adr-at03.3-textobject-robustness/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-AT03.3: TextObject Robustness and Metadata Management
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ADR-AT04: AI Text Processing Platform Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ADR-AT04: AI Text Processing Platform Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Executive Summary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Executive Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-thesis" class="md-nav__link">
    <span class="md-ellipsis">
      Core Thesis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    <span class="md-ellipsis">
      Scope
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    <span class="md-ellipsis">
      Context
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-weve-learned-from-the-poc" class="md-nav__link">
    <span class="md-ellipsis">
      What We've Learned from the PoC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What We've Learned from the PoC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-worked" class="md-nav__link">
    <span class="md-ellipsis">
      ‚úÖ What Worked
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pain-points-discovered" class="md-nav__link">
    <span class="md-ellipsis">
      ‚ùå Pain Points Discovered
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategic-shift" class="md-nav__link">
    <span class="md-ellipsis">
      Strategic Shift
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-hard-problems-were-solving" class="md-nav__link">
    <span class="md-ellipsis">
      The Hard Problems We're Solving
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-at03s-refactor-approach-is-insufficient" class="md-nav__link">
    <span class="md-ellipsis">
      Why AT03's Refactor Approach Is Insufficient
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Key Definitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-goals-guardrails" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Goals &amp; Guardrails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-principles" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural Principles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural Principles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-context-first-processing" class="md-nav__link">
    <span class="md-ellipsis">
      1. Context-First Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-strategies-are-prompt-driven-with-code-kernels" class="md-nav__link">
    <span class="md-ellipsis">
      2. Strategies are Prompt-Driven with Code Kernels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-task-as-stateful-orchestrator-unit" class="md-nav__link">
    <span class="md-ellipsis">
      3. Task as Stateful Orchestrator Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-context-as-a-propagation-graph" class="md-nav__link">
    <span class="md-ellipsis">
      4. Context as a Propagation Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deterministic-lineage-to-source" class="md-nav__link">
    <span class="md-ellipsis">
      5. Deterministic Lineage to Source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-object-service-for-strategy-polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      6. Object-Service for Strategy Polymorphism
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-evaluation-as-built-in" class="md-nav__link">
    <span class="md-ellipsis">
      7. Evaluation as Built-In
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-validation-loops-for-brittleness" class="md-nav__link">
    <span class="md-ellipsis">
      8. Validation Loops for Brittleness
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-architecture-impact" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Architecture Impact
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Platform Architecture Impact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relationship-to-existing-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Relationship to Existing Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-layer-positioning" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural Layer Positioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalization-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Generalization Strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Platform Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#component-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Component Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-context-planner" class="md-nav__link">
    <span class="md-ellipsis">
      1. Context Planner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-task-abstraction" class="md-nav__link">
    <span class="md-ellipsis">
      2. Task Abstraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-assembly-validation-stage" class="md-nav__link">
    <span class="md-ellipsis">
      3. Assembly &amp; Validation Stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-strategy-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      4. Strategy Catalog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-context-propagation-layer" class="md-nav__link">
    <span class="md-ellipsis">
      3. Context Propagation Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-pipeline-orchestration" class="md-nav__link">
    <span class="md-ellipsis">
      4. Pipeline Orchestration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-experimentation-harness" class="md-nav__link">
    <span class="md-ellipsis">
      5. Experimentation Harness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-integration-points-from-at03" class="md-nav__link">
    <span class="md-ellipsis">
      6. Integration Points (from AT03)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initial-strategy-set" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Strategy Set
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Strategy Set">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sectioning-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Sectioning Strategies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context-enrichment-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Context Enrichment Strategies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Validation Strategies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-plan" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-0-early-validation-spike-1-week" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0: Early Validation Spike (1 week)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1-core-platform-3-4-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Core Platform (3-4 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-strategy-catalog-migration-2-3-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Strategy Catalog &amp; Migration (2-3 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-validation-loops-brittleness-fixes-2-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Validation Loops &amp; Brittleness Fixes (2 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-experimentation-harness-2-3-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Experimentation Harness (2-3 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-5-cross-document-extensions-3-4-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Cross-Document Extensions (3-4 weeks)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategic-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      Strategic Trade-offs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Strategic Trade-offs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-complexity-vs-accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      1. Complexity vs. Accuracy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-flexibility-vs-performance" class="md-nav__link">
    <span class="md-ellipsis">
      2. Flexibility vs. Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-domain-specificity-vs-generality" class="md-nav__link">
    <span class="md-ellipsis">
      3. Domain Specificity vs. Generality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-evaluation-cost-vs-confidence" class="md-nav__link">
    <span class="md-ellipsis">
      4. Evaluation Cost vs. Confidence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reliability-philosophy" class="md-nav__link">
    <span class="md-ellipsis">
      Reliability Philosophy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    <span class="md-ellipsis">
      Consequences
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Consequences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#positive" class="md-nav__link">
    <span class="md-ellipsis">
      Positive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative" class="md-nav__link">
    <span class="md-ellipsis">
      Negative
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risks-mitigations" class="md-nav__link">
    <span class="md-ellipsis">
      Risks &amp; Mitigations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Open Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Open Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-strategy-selection-heuristics" class="md-nav__link">
    <span class="md-ellipsis">
      1. Strategy Selection Heuristics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-validation-loop-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      2. Validation Loop Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-context-propagation-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      3. Context Propagation Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-cross-document-terminology-service" class="md-nav__link">
    <span class="md-ellipsis">
      4. Cross-Document Terminology Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-quality-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      5. Quality Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-pipeline-composition-limits" class="md-nav__link">
    <span class="md-ellipsis">
      6. Pipeline Composition Limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-minimum-context-window-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      7. Minimum Context Window Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-response-validation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      8. Response Validation Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-qa-output-formats-as-product-surface" class="md-nav__link">
    <span class="md-ellipsis">
      9. QA Output Formats as Product Surface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-caching-strategy-granularity" class="md-nav__link">
    <span class="md-ellipsis">
      10. Caching Strategy Granularity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11-cross-document-coordination-scope" class="md-nav__link">
    <span class="md-ellipsis">
      11. Cross-Document Coordination Scope
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-from-at03" class="md-nav__link">
    <span class="md-ellipsis">
      Migration from AT03
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration from AT03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phased-approach-at03-at04" class="md-nav__link">
    <span class="md-ellipsis">
      Phased Approach: AT03 ‚Üí AT04
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-05-at03-minimal-refactor-1-2-weeks-current" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0.5: AT03 Minimal Refactor (1-2 weeks) - CURRENT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-0-early-validation-spike-1-week-after-at03" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0: Early Validation Spike (1 week) - AFTER AT03
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1-5-full-at04-platform-11-16-weeks-after-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1-5: Full AT04 Platform (11-16 weeks) - AFTER VALIDATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-at03-provides-for-at04" class="md-nav__link">
    <span class="md-ellipsis">
      What AT03 Provides for AT04
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-timeline" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Timeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decimal-spin-off-adrs-design-details" class="md-nav__link">
    <span class="md-ellipsis">
      Decimal Spin-Off ADRs (Design Details)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decimal Spin-Off ADRs (Design Details)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adr-at041-task-orchestration-model" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.1: Task Orchestration Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at042-context-propagation-design" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.2: Context Propagation Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at043-strategy-catalog-design" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.3: Strategy Catalog Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at044-validation-loops-design" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.4: Validation Loops Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at045-experimentation-harness" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.5: Experimentation Harness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at046-cross-document-coherence" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.6: Cross-Document Coherence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
    <nav class="md-nav" aria-label="References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#related-adrs" class="md-nav__link">
    <span class="md-ellipsis">
      Related ADRs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-resources" class="md-nav__link">
    <span class="md-ellipsis">
      External Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tnh-scholar-context" class="md-nav__link">
    <span class="md-ellipsis">
      TNH Scholar Context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approval-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Approval &amp; Next Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Approval & Next Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approval-process" class="md-nav__link">
    <span class="md-ellipsis">
      Approval Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immediate-next-steps-on-acceptance" class="md-nav__link">
    <span class="md-ellipsis">
      Immediate Next Steps (on acceptance)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#success-criteria-for-at04" class="md-nav__link">
    <span class="md-ellipsis">
      Success Criteria for AT04
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Success Criteria for AT04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-accuracy-improvement-measurable" class="md-nav__link">
    <span class="md-ellipsis">
      1. Accuracy Improvement (measurable)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-maintainability-qualitative" class="md-nav__link">
    <span class="md-ellipsis">
      2. Maintainability (qualitative)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-traceability-verifiable" class="md-nav__link">
    <span class="md-ellipsis">
      3. Traceability (verifiable)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-extensibility-demonstrated" class="md-nav__link">
    <span class="md-ellipsis">
      4. Extensibility (demonstrated)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-performance-acceptable-bounds" class="md-nav__link">
    <span class="md-ellipsis">
      5. Performance (acceptable bounds)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-team-alignment-organizational" class="md-nav__link">
    <span class="md-ellipsis">
      6. Team Alignment (organizational)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_5_2" id="__nav_9_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_5_2">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/textobject-original-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TextObject Original Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../design/textobject-system-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TextObject System Design Document
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../configuration/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Configuration
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_6" id="__nav_9_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_6">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/tnh-configuration-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Configuration Management
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_6_3" >
        
          
          <label class="md-nav__link" for="__nav_9_6_3" id="__nav_9_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Adr
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_6_3">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/adr/adr-cf01-runtime-context-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-CF01: Runtime Context & Configuration Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--accepted"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../configuration/adr/adr-cf02-prompt-catalog-discovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-CF02: Prompt Catalog Discovery Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--accepted"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../docs-system/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Docs System
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_7" id="__nav_9_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_7">
            <span class="md-nav__icon md-icon"></span>
            Docs System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../docs-system/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_7_2" id="__nav_9_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_7_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docs-system/adr/adr-dd01-docs-reorg-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-DD01: Documentation System Reorganization Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docs-system/adr/adr-dd02-main-content-nav/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-DD02: Documentation Main Content and Navigation Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docs-system/adr/adr-dd03-pattern-to-prompt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-DD03: Pattern to Prompt Terminology Standardization
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docs-system/adr/adr-dd03-phase1-punchlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-DD03: Phase 1 Execution Punch List
  </span>
  
    
  
  
    <span class="md-status md-status--wip"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../docs-system/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_7_3" id="__nav_9_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_7_3">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docs-system/design/documentation-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen Ai Service
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_9" >
        
          
          <label class="md-nav__link" for="__nav_9_9" id="__nav_9_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GenAI Service
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_9">
            <span class="md-nav__icon md-icon"></span>
            GenAI Service
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_9_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../gen-ai-service/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_9_1" id="__nav_9_9_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_9_1">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a01-object-service-genai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A01: Adopt Object-Service for GenAI Interactions
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a02-patterncatalog-integration-v1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A02: PatternCatalog Integration (V1)
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a08-config-params-policy-taxonomy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A08: Configuration / Parameters / Policy Taxonomy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a09-v1-simplified/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A09: V1 Simplified Implementation Pathway
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a11-model-parameters-fix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A11: Model Parameters and Strong Typing Fix
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a12-prompt-system-fingerprinting-v1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A12: Prompt System & Fingerprinting Architecture (V1)
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a13-migrate-openai-to-genaiservice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A13: Migrate All OpenAI Interactions to GenAIService
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a14-file-based-registry-system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A14: File-Based Registry System for Provider Metadata
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a14.1-registry-staleness-detection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A14.1: Registry Staleness Detection and User Warnings
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/adr/adr-a15-thread-safety-rate-limiting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-A15: Thread Safety and Rate Limiting
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_9_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../gen-ai-service/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_9_2" id="__nav_9_9_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_9_2">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/design/genai-service-design-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GenAI Service ‚Äî Design Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gen-ai-service/design/openai-interface-migration-plan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI Interface Migration Plan
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../jvb-viewer/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Jvb Viewer
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_10" id="__nav_9_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_10">
            <span class="md-nav__icon md-icon"></span>
            Jvb Viewer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_10_2" >
        
          
          <label class="md-nav__link" for="__nav_9_10_2" id="__nav_9_10_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Adr
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_10_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../jvb-viewer/adr/adr-jv03-canonical-xml-ast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-JV03: Canonical XML AST for English Parsing
  </span>
  
    
  
  
    <span class="md-status md-status--accepted"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../jvb-viewer/adr/adr-jvb01_as-built_jvb_viewer_v1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-JVB01: JVB Parallel Viewer v1 As-Built
  </span>
  
    
  
  
    <span class="md-status md-status--accepted"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_10_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../jvb-viewer/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_10_3" id="__nav_9_10_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_10_3">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../jvb-viewer/design/generate-md-translation-json-pairs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate Markdown Translation JSON Pairs
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../jvb-viewer/design/generate-md-vietnamese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate Markdown Vietnamese
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../jvb-viewer/design/jvb-viewer-v2-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JVB Viewer ‚Äî Version 2 Strategy & High‚ÄëLevel Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../jvb-viewer/design/luan-hoi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LU√ÇN-H·ªíI
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../knowledge-base/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Knowledge Base
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_11" id="__nav_9_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_11">
            <span class="md-nav__icon md-icon"></span>
            Knowledge Base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_11_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../knowledge-base/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_11_2" id="__nav_9_11_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_11_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../knowledge-base/adr/adr-k01-kb-architecture-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-K01: Preliminary Architectural Strategy for TNH Scholar Knowledge Base
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../metadata/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Metadata
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_12" id="__nav_9_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_12">
            <span class="md-nav__icon md-icon"></span>
            Metadata
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_12_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../metadata/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_12_2" id="__nav_9_12_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_12_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metadata/adr/adr-md01-json-ld-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-MD01: Adoption of JSON-LD for Metadata Management
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metadata/adr/adr-md02-metadata-object-service-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-MD02: Metadata Infrastructure Object-Service Integration
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../object-service/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Object Service
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_13" id="__nav_9_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_13">
            <span class="md-nav__icon md-icon"></span>
            Object Service
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../object-service/object-service-design-gaps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object-Service Design Gaps
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../object-service/object-service-design-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object-Service Design Overview
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../object-service/object-service-implementation-status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object-Service Implementation Status
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_13_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../object-service/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_13_5" id="__nav_9_13_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_13_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_13_5">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../object-service/adr/adr-os01-object-service-architecture-v3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-OS01: Object-Service Design Architecture V3
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../project-policies/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Project Policies
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_14" id="__nav_9_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_14">
            <span class="md-nav__icon md-icon"></span>
            Project Policies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-policies/versioning-policy-implementation-summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning Policy Documentation Additions
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_14_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../project-policies/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_14_3" id="__nav_9_14_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_14_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_14_3">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project-policies/adr/adr-pp01-rapid-prototype-versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-PP01: Rapid Prototype Versioning Policy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_15" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../prompt-system/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Prompt System
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_15" id="__nav_9_15_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_15">
            <span class="md-nav__icon md-icon"></span>
            Prompt System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prompt-system/prompt-system-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompt System Architecture
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_15_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../prompt-system/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_15_3" id="__nav_9_15_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_15_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_15_3">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prompt-system/adr/adr-pt03-prompt-system-status-roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-PT03: Prompt System Current Status & Roadmap
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prompt-system/adr/adr-pt04-prompt-system-refactor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-PT04: Prompt System Refactor Plan (Revised)
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../provenance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Provenance & Tracing Architecture
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_17" >
        
          
          <label class="md-nav__link" for="__nav_9_17" id="__nav_9_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Provenance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_17">
            <span class="md-nav__icon md-icon"></span>
            Provenance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_17_1" >
        
          
          <label class="md-nav__link" for="__nav_9_17_1" id="__nav_9_17_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Adr
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_17_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_17_1">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../provenance/adr/adr-pv01-provenance-tracing-strat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-PV01: Provenance & Tracing Infrastructure Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_18" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../setup-tnh/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Setup Tnh
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_18" id="__nav_9_18_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_18">
            <span class="md-nav__icon md-icon"></span>
            Setup Tnh
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_18_2" >
        
          
          <label class="md-nav__link" for="__nav_9_18_2" id="__nav_9_18_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Adr
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_18_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_18_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup-tnh/adr/adr-st01-tnh-setup-runtime-hardening/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-ST01: tnh-setup Runtime Hardening
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup-tnh/adr/adr-st01.1-tnh-setup-ui-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-ST01.1: tnh-setup UI Design
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_18_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../setup-tnh/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_18_3" id="__nav_9_18_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_18_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_18_3">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup-tnh/design/setup-tnh-minimal-extensible-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    minimal but extensible setup tool for the prototyping phase
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tnh-gen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH-Gen CLI Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_20" >
        
          
          <label class="md-nav__link" for="__nav_9_20" id="__nav_9_20_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tnh Gen
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_20">
            <span class="md-nav__icon md-icon"></span>
            Tnh Gen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_20_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tnh-gen/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_20_1" id="__nav_9_20_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_20_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_20_1">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tnh-gen/adr/adr-tg01-cli-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TG01: tnh-gen CLI Architecture
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tnh-gen/adr/adr-tg01.1-human-friendly-defaults/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TG01.1: Human-Friendly CLI Defaults with --api Flag
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tnh-gen/adr/adr-tg02-prompt-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TG02: TNH-Gen CLI Prompt System Integration
  </span>
  
    
  
  
    <span class="md-status md-status--implemented"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_21" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../transcription/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Transcription
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_21" id="__nav_9_21_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_21">
            <span class="md-nav__icon md-icon"></span>
            Transcription
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_21_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../transcription/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_21_2" id="__nav_9_21_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_21_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_21_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/adr/adr-tr01-assemblyai-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TR01: AssemblyAI Integration for Transcription Service
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/adr/adr-tr02-optimized-srt-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TR02: Optimized SRT Generation Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/adr/adr-tr03-ms-timestamps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TR03: Standardizing Timestamps to Milliseconds
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/adr/adr-tr04-assemblyai-improvements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-TR04: AssemblyAI Service Implementation Improvements
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_21_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../transcription/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_21_3" id="__nav_9_21_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_21_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_21_3">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/audio-chunking-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio Chunking Algorithm Design Document
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/diarization-algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diarization Algorithms
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/diarization-chunker-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diarization Chunker Module Design Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/diarization-system-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diarization System Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/interval-to-segment-mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interval-to-Segment Mapping Algorithm
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/language-aware-chunking-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplified Language-Aware Chunking Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/language-aware-chunking-orchestrator-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Language-Aware Chunking Orchestrator Notes
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/modular-pipeline-best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modular Pipeline Design: Best Practices for Audio Transcription and Diarization
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/practical-language-aware-chunking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practical Language-Aware Chunking Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/speaker-diarization-algorithm-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Speaker Diarization Algorithm Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/speaker-diarization-time-mapped-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Speaker Diarization and Time-Mapped Transcription System Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transcription/design/timelinemapper-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TimelineMapper Design Document
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_22" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ui-ux/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Ui Ux
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_22" id="__nav_9_22_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_22">
            <span class="md-nav__icon md-icon"></span>
            Ui Ux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_22_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ui-ux/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_22_2" id="__nav_9_22_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_22_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_22_2">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/design/vs-code-as-ui-platform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Strategy: VS Code as UI/UX Platform for TNH Scholar
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_22_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ui-ux/vs-code-integration/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Vs Code Integration
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_22_3" id="__nav_9_22_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_22_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_22_3">
            <span class="md-nav__icon md-icon"></span>
            Vs Code Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/vs-code-integration/adr-vsc01-vscode-integration-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VSC01: VS Code Integration Strategy (TNH-Scholar Extension v0.1.0)
  </span>
  
    
  
  
    <span class="md-status md-status--accepted"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/vs-code-integration/adr-vsc02-tnh-gen-cli-implementation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VSC02: VS Code Extension Architecture
  </span>
  
    
  
  
    <span class="md-status md-status--wip"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/vs-code-integration/adr-vsc03-python-javascript-impedance-investigation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VSC03: Python-JavaScript Impedance Mismatch Investigation
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/vs-code-integration/adr-vsc03.1-findings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VSC03: Preliminary Investigation Findings
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/vs-code-integration/adr-vsc03.2-real-world-survey-addendum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VSC03.2: Real-World Survey Addendum (VS Code as a UI/UX Platform)
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui-ux/vs-code-integration/adr-vsc03.3-investigation-synthesis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VSC03.3: Investigation Synthesis - Validation of Design Choices
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_23" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../utilities/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Utilities
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_23" id="__nav_9_23_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_23_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_23">
            <span class="md-nav__icon md-icon"></span>
            Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_23_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../utilities/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_23_2" id="__nav_9_23_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_23_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_23_2">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/design/package-version-checker-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package Version Checker Design Document
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/design/utilities-catalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH‚ÄëScholar Utilities Catalog
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_24" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../video-processing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Video Processing
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_24" id="__nav_9_24_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_24_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_24">
            <span class="md-nav__icon md-icon"></span>
            Video Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_24_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../video-processing/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_24_2" id="__nav_9_24_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_24_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_24_2">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../video-processing/adr/adr-vp01-video-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VP01: Video Processing Return Types and Configuration
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../video-processing/adr/adr-vp02-ytdlp-operational-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-VP02: yt-dlp Operational Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--proposed"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ytt-fetch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ytt Fetch
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_26" >
        
          
          <label class="md-nav__link" for="__nav_9_26" id="__nav_9_26_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    YTT Fetch
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_26_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_26">
            <span class="md-nav__icon md-icon"></span>
            YTT Fetch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_26_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ytt-fetch/adr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Adr
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_26_1" id="__nav_9_26_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_26_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_26_1">
            <span class="md-nav__icon md-icon"></span>
            Adr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ytt-fetch/adr/adr-yf00-early-decisions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-YF00: Early yt-fetch Transcript Decisions (Historical)
  </span>
  
    
  
  
    <span class="md-status md-status--archived"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ytt-fetch/adr/adr-yf01-yt-transcript-source-handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-YF01: YouTube Transcript Source Handling
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ytt-fetch/adr/adr-yf02-yt-transcript-format-selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR-YF02: YouTube Transcript Format Selection
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_26_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ytt-fetch/design/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_26_2" id="__nav_9_26_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_26_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_26_2">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ytt-fetch/design/youtube-api-vs-yt-dlp-eval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YouTube API vs yt-dlp Evaluation
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../development/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Development
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/contributing-prototype-phase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to TNH Scholar (Prototype Phase)
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/design-principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Design Principles
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/fine-tuning-strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fine Tuning Strategy
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/git-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Workflow & Safety Guide
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/human-ai-software-engineering-principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Human-AI Software Engineering Principles
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/improvements-initial-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Improvements / Initial structure
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Documentation
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/release-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Workflow
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/style-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Style Guide
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/system-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar System Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/yt-dlp-ops-check/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    yt-dlp Ops Check
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../development/incident-reports/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Incident Reports
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_13" id="__nav_10_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_13">
            <span class="md-nav__icon md-icon"></span>
            Incident Reports
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/incident-reports/2025-12-07-git-recovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Incident Report: Git Recovery - December 7, 2025
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/incident-reports/tag-v0.2.0-correction-plan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v0.2.0 Tag Correction Plan
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_13_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../development/incident-reports/2025-12-07-reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    2025 12 07 Reference
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10_13_4" id="__nav_10_13_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_13_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_13_4">
            <span class="md-nav__icon md-icon"></span>
            2025 12 07 Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/incident-reports/2025-12-07-reference/forensic-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Forensic Analysis: December 7, 2025 Git Data Loss Incident
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/incident-reports/2025-12-07-reference/implementation-summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementation Summary: Git Safety Improvements
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../development/incident-reports/2025-12-07-reference/incident-report-updates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proposed Updates to Incident Report
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../docs-ops/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Docs Ops
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11" id="__nav_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Docs Ops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs-ops/adr-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR Template
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs-ops/markdown-standards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown Standards
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs-ops/mkdocs-strict-warning-backlog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MkDocs Strict Warning Backlog
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs-ops/preview-theme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preview TNH Scholar Theme
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../docs-ops/theme-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Theme Design
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../research/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Research
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12" id="__nav_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Research
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/gpt_development_convos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPT Development Convos
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/kb-design-document/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TNH Scholar Knowledge Base: Design Document
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/metadata-summary-report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary Report on Metadata Extraction, Source Parsing, and Model Training for TNH-Scholar
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/preliminary-feasibility-study/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preliminary Feasibility Study
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/rag-research-directions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAG Research Directions for TNH Scholar
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/siap-methodology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structural-Informed Adaptive Processing (SIAP) Methodology
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../research/gpt4o-search-query-testing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Gpt4O Search Query Testing
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_8" id="__nav_12_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_8">
            <span class="md-nav__icon md-icon"></span>
            Gpt4O Search Query Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/gpt4o-search-query-testing/queries-1-3-words/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1-3 Word Queries
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../research/gpt4o-translation-experiments/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Gpt4O Translation Experiments
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_12_9" id="__nav_12_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_9">
            <span class="md-nav__icon md-icon"></span>
            Gpt4O Translation Experiments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../research/gpt4o-translation-experiments/passage_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passage Test
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../documentation_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation Index
  </span>
  
    
  
  
    <span class="md-status md-status--current"></span>
  

  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Executive Summary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Executive Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-thesis" class="md-nav__link">
    <span class="md-ellipsis">
      Core Thesis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    <span class="md-ellipsis">
      Scope
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    <span class="md-ellipsis">
      Context
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-weve-learned-from-the-poc" class="md-nav__link">
    <span class="md-ellipsis">
      What We've Learned from the PoC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What We've Learned from the PoC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-worked" class="md-nav__link">
    <span class="md-ellipsis">
      ‚úÖ What Worked
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pain-points-discovered" class="md-nav__link">
    <span class="md-ellipsis">
      ‚ùå Pain Points Discovered
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strategic-shift" class="md-nav__link">
    <span class="md-ellipsis">
      Strategic Shift
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-hard-problems-were-solving" class="md-nav__link">
    <span class="md-ellipsis">
      The Hard Problems We're Solving
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-at03s-refactor-approach-is-insufficient" class="md-nav__link">
    <span class="md-ellipsis">
      Why AT03's Refactor Approach Is Insufficient
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Key Definitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-goals-guardrails" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Goals &amp; Guardrails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-principles" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural Principles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural Principles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-context-first-processing" class="md-nav__link">
    <span class="md-ellipsis">
      1. Context-First Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-strategies-are-prompt-driven-with-code-kernels" class="md-nav__link">
    <span class="md-ellipsis">
      2. Strategies are Prompt-Driven with Code Kernels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-task-as-stateful-orchestrator-unit" class="md-nav__link">
    <span class="md-ellipsis">
      3. Task as Stateful Orchestrator Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-context-as-a-propagation-graph" class="md-nav__link">
    <span class="md-ellipsis">
      4. Context as a Propagation Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deterministic-lineage-to-source" class="md-nav__link">
    <span class="md-ellipsis">
      5. Deterministic Lineage to Source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-object-service-for-strategy-polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      6. Object-Service for Strategy Polymorphism
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-evaluation-as-built-in" class="md-nav__link">
    <span class="md-ellipsis">
      7. Evaluation as Built-In
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-validation-loops-for-brittleness" class="md-nav__link">
    <span class="md-ellipsis">
      8. Validation Loops for Brittleness
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-architecture-impact" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Architecture Impact
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Platform Architecture Impact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relationship-to-existing-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Relationship to Existing Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-layer-positioning" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural Layer Positioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalization-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Generalization Strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Platform Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#component-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Component Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-context-planner" class="md-nav__link">
    <span class="md-ellipsis">
      1. Context Planner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-task-abstraction" class="md-nav__link">
    <span class="md-ellipsis">
      2. Task Abstraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-assembly-validation-stage" class="md-nav__link">
    <span class="md-ellipsis">
      3. Assembly &amp; Validation Stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-strategy-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      4. Strategy Catalog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-context-propagation-layer" class="md-nav__link">
    <span class="md-ellipsis">
      3. Context Propagation Layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-pipeline-orchestration" class="md-nav__link">
    <span class="md-ellipsis">
      4. Pipeline Orchestration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-experimentation-harness" class="md-nav__link">
    <span class="md-ellipsis">
      5. Experimentation Harness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-integration-points-from-at03" class="md-nav__link">
    <span class="md-ellipsis">
      6. Integration Points (from AT03)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initial-strategy-set" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Strategy Set
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Strategy Set">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sectioning-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Sectioning Strategies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context-enrichment-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Context Enrichment Strategies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      Validation Strategies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-plan" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-0-early-validation-spike-1-week" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0: Early Validation Spike (1 week)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1-core-platform-3-4-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Core Platform (3-4 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-strategy-catalog-migration-2-3-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Strategy Catalog &amp; Migration (2-3 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-validation-loops-brittleness-fixes-2-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Validation Loops &amp; Brittleness Fixes (2 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-experimentation-harness-2-3-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Experimentation Harness (2-3 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-5-cross-document-extensions-3-4-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Cross-Document Extensions (3-4 weeks)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategic-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      Strategic Trade-offs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Strategic Trade-offs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-complexity-vs-accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      1. Complexity vs. Accuracy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-flexibility-vs-performance" class="md-nav__link">
    <span class="md-ellipsis">
      2. Flexibility vs. Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-domain-specificity-vs-generality" class="md-nav__link">
    <span class="md-ellipsis">
      3. Domain Specificity vs. Generality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-evaluation-cost-vs-confidence" class="md-nav__link">
    <span class="md-ellipsis">
      4. Evaluation Cost vs. Confidence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reliability-philosophy" class="md-nav__link">
    <span class="md-ellipsis">
      Reliability Philosophy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    <span class="md-ellipsis">
      Consequences
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Consequences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#positive" class="md-nav__link">
    <span class="md-ellipsis">
      Positive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative" class="md-nav__link">
    <span class="md-ellipsis">
      Negative
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#risks-mitigations" class="md-nav__link">
    <span class="md-ellipsis">
      Risks &amp; Mitigations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Open Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Open Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-strategy-selection-heuristics" class="md-nav__link">
    <span class="md-ellipsis">
      1. Strategy Selection Heuristics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-validation-loop-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      2. Validation Loop Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-context-propagation-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      3. Context Propagation Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-cross-document-terminology-service" class="md-nav__link">
    <span class="md-ellipsis">
      4. Cross-Document Terminology Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-quality-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      5. Quality Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-pipeline-composition-limits" class="md-nav__link">
    <span class="md-ellipsis">
      6. Pipeline Composition Limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-minimum-context-window-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      7. Minimum Context Window Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-response-validation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      8. Response Validation Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-qa-output-formats-as-product-surface" class="md-nav__link">
    <span class="md-ellipsis">
      9. QA Output Formats as Product Surface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-caching-strategy-granularity" class="md-nav__link">
    <span class="md-ellipsis">
      10. Caching Strategy Granularity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11-cross-document-coordination-scope" class="md-nav__link">
    <span class="md-ellipsis">
      11. Cross-Document Coordination Scope
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-from-at03" class="md-nav__link">
    <span class="md-ellipsis">
      Migration from AT03
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration from AT03">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phased-approach-at03-at04" class="md-nav__link">
    <span class="md-ellipsis">
      Phased Approach: AT03 ‚Üí AT04
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-05-at03-minimal-refactor-1-2-weeks-current" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0.5: AT03 Minimal Refactor (1-2 weeks) - CURRENT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-0-early-validation-spike-1-week-after-at03" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0: Early Validation Spike (1 week) - AFTER AT03
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1-5-full-at04-platform-11-16-weeks-after-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1-5: Full AT04 Platform (11-16 weeks) - AFTER VALIDATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-at03-provides-for-at04" class="md-nav__link">
    <span class="md-ellipsis">
      What AT03 Provides for AT04
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-timeline" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Timeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decimal-spin-off-adrs-design-details" class="md-nav__link">
    <span class="md-ellipsis">
      Decimal Spin-Off ADRs (Design Details)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decimal Spin-Off ADRs (Design Details)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adr-at041-task-orchestration-model" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.1: Task Orchestration Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at042-context-propagation-design" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.2: Context Propagation Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at043-strategy-catalog-design" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.3: Strategy Catalog Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at044-validation-loops-design" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.4: Validation Loops Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at045-experimentation-harness" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.5: Experimentation Harness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adr-at046-cross-document-coherence" class="md-nav__link">
    <span class="md-ellipsis">
      ADR-AT04.6: Cross-Document Coherence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
    <nav class="md-nav" aria-label="References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#related-adrs" class="md-nav__link">
    <span class="md-ellipsis">
      Related ADRs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-resources" class="md-nav__link">
    <span class="md-ellipsis">
      External Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tnh-scholar-context" class="md-nav__link">
    <span class="md-ellipsis">
      TNH Scholar Context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approval-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Approval &amp; Next Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Approval & Next Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approval-process" class="md-nav__link">
    <span class="md-ellipsis">
      Approval Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immediate-next-steps-on-acceptance" class="md-nav__link">
    <span class="md-ellipsis">
      Immediate Next Steps (on acceptance)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#success-criteria-for-at04" class="md-nav__link">
    <span class="md-ellipsis">
      Success Criteria for AT04
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Success Criteria for AT04">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-accuracy-improvement-measurable" class="md-nav__link">
    <span class="md-ellipsis">
      1. Accuracy Improvement (measurable)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-maintainability-qualitative" class="md-nav__link">
    <span class="md-ellipsis">
      2. Maintainability (qualitative)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-traceability-verifiable" class="md-nav__link">
    <span class="md-ellipsis">
      3. Traceability (verifiable)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-extensibility-demonstrated" class="md-nav__link">
    <span class="md-ellipsis">
      4. Extensibility (demonstrated)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-performance-acceptable-bounds" class="md-nav__link">
    <span class="md-ellipsis">
      5. Performance (acceptable bounds)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-team-alignment-organizational" class="md-nav__link">
    <span class="md-ellipsis">
      6. Team Alignment (organizational)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="adr-at04-ai-text-processing-platform-strategy">ADR-AT04: AI Text Processing Platform Strategy<a class="headerlink" href="#adr-at04-ai-text-processing-platform-strategy" title="Link to this section">&para;</a></h1>
<p>Extensible platform architecture for evaluation-driven text processing with strategy polymorphism and context fidelity.</p>
<ul>
<li><strong>Status</strong>: Proposed</li>
<li><strong>Type</strong>: Strategy ADR</li>
<li><strong>Date</strong>: 2025-12-11</li>
<li><strong>Updated</strong>: 2025-12-12</li>
<li><strong>Owner</strong>: Aaron Solomon</li>
<li><strong>Author</strong>: Aaron Solomon, Claude Sonnet 4.5</li>
</ul>
<h2 id="executive-summary">Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this section">&para;</a></h2>
<p>This ADR establishes both the <strong>strategic direction</strong> and <strong>platform architecture</strong> for TNH Scholar's text processing capabilities. It supersedes ADR-AT03's incremental refactor approach with a platform designed for <strong>strategy experimentation</strong>, <strong>context fidelity</strong>, and <strong>evaluation-driven development</strong>.</p>
<h3 id="core-thesis">Core Thesis<a class="headerlink" href="#core-thesis" title="Link to this section">&para;</a></h3>
<p><em>"We've proven sectioning + context translation works (JVB journals PoC). Now we need a platform that makes strategy experimentation cheap, supports multiple approaches in production, and centers prompt engineering as the primary extension mechanism."</em></p>
<h3 id="scope">Scope<a class="headerlink" href="#scope" title="Link to this section">&para;</a></h3>
<p><strong>This ADR defines</strong>:</p>
<ul>
<li>Strategic principles guiding platform design</li>
<li>Core architectural components and their relationships</li>
<li>Extension mechanisms (prompt-driven strategies)</li>
<li>Integration points with existing systems (GenAI Service, Prompt System, TextObject)</li>
<li>Migration path from current prototype</li>
<li>Implementation phases and validation approach</li>
</ul>
<p><strong>This ADR does NOT define</strong> (deferred to decimal spin-off ADRs):</p>
<ul>
<li>Detailed task orchestration implementation ‚Üí <strong>ADR-AT04.1</strong> (Task Orchestration Model)</li>
<li>Context propagation algorithms and lineage tracking ‚Üí <strong>ADR-AT04.2</strong> (Context Propagation Design)</li>
<li>Strategy catalog internals and versioning ‚Üí <strong>ADR-AT04.3</strong> (Strategy Catalog Design)</li>
<li>Specific validation loop patterns ‚Üí <strong>ADR-AT04.4</strong> (Validation Loops Design)</li>
<li>Experimentation harness design ‚Üí <strong>ADR-AT04.5</strong> (Experimentation Harness)</li>
<li>Cross-document coherence implementation ‚Üí <strong>ADR-AT04.6</strong> (Cross-Document Coherence)</li>
</ul>
<hr />
<h2 id="context">Context<a class="headerlink" href="#context" title="Link to this section">&para;</a></h2>
<h3 id="what-weve-learned-from-the-poc">What We've Learned from the PoC<a class="headerlink" href="#what-weve-learned-from-the-poc" title="Link to this section">&para;</a></h3>
<p>The current <code>ai_text_processing</code> implementation was used successfully to translate Th√≠ch Nh·∫•t H·∫°nh's 1950s journals (JVB project). This PoC validated core concepts but revealed critical limitations:</p>
<h4 id="what-worked">‚úÖ <strong>What Worked</strong><a class="headerlink" href="#what-worked" title="Link to this section">&para;</a></h4>
<ol>
<li><strong>Sectioning for context preservation</strong>: Breaking documents into logical sections maintained translation quality</li>
<li><strong>AI-driven boundary detection</strong>: Token-based target section counts with AI-identified boundaries produced coherent sections</li>
<li><strong>Context windows</strong>: Neighbor-line context (3 lines before/after) improved translation coherence</li>
<li><strong>Metadata propagation</strong>: Document-level context (summaries, key concepts) proved valuable when used</li>
<li><strong>Prompt-driven approach</strong>: Flexibility to adjust prompts without code changes enabled rapid iteration</li>
</ol>
<h4 id="pain-points-discovered">‚ùå <strong>Pain Points Discovered</strong><a class="headerlink" href="#pain-points-discovered" title="Link to this section">&para;</a></h4>
<ol>
<li><strong>Sectioning brittleness</strong>: AI-generated section boundaries produced off-by-one errors, missing lines, non-contiguous coverage</li>
<li><strong>Context fragmentation</strong>: Document-level context (summaries, key concepts, narrative) generated but not effectively propagated to downstream tasks</li>
<li><strong>No validation loops</strong>: No mechanism to verify section quality or catch translation errors before final output</li>
<li><strong>Limited strategy options</strong>: Single hard-coded approach (token-based sectioning + 3-line context) - no way to try alternatives</li>
<li><strong>No cross-document coherence</strong>: Multi-volume journals processed in isolation - no shared terminology or concept tracking</li>
<li><strong>No experimentation harness</strong>: Cannot quantitatively compare sectioning strategies or context enrichment approaches</li>
<li><strong>Tight coupling</strong>: Direct OpenAI SDK dependencies make testing and provider-switching difficult (inherited from AT03 analysis)</li>
</ol>
<h3 id="strategic-shift">Strategic Shift<a class="headerlink" href="#strategic-shift" title="Link to this section">&para;</a></h3>
<p><strong>From</strong>: Prototype with hard-coded sectioning strategy and incremental cleanup
<strong>To</strong>: Platform supporting multiple strategies with experimentation harness and evaluation-driven evolution</p>
<h3 id="the-hard-problems-were-solving">The Hard Problems We're Solving<a class="headerlink" href="#the-hard-problems-were-solving" title="Link to this section">&para;</a></h3>
<ol>
<li><strong>Tight-context tasks over sectioned documents</strong>: How do we maintain translation fidelity when processing large documents in chunks?</li>
<li><strong>Strategy polymorphism</strong>: How do we support multiple sectioning/context strategies and let users/automation choose per document?</li>
<li><strong>Brittleness mitigation</strong>: How do we add validation loops to catch and fix errors (section boundaries, translation quality)?</li>
<li><strong>Context propagation</strong>: How do we ensure document-level context flows through entire pipeline?</li>
<li><strong>Cross-document coherence</strong>: How do we maintain terminology consistency across multi-volume works?</li>
<li><strong>Evaluation-driven development</strong>: How do we quantitatively compare strategies to make informed decisions?</li>
<li><strong>Prompt engineering as primary extension</strong>: How do we make new strategies cheap to add (prompts, not code)?</li>
</ol>
<h3 id="why-at03s-refactor-approach-is-insufficient">Why AT03's Refactor Approach Is Insufficient<a class="headerlink" href="#why-at03s-refactor-approach-is-insufficient" title="Link to this section">&para;</a></h3>
<p>ADR-AT03 proposed a three-tier refactor (object-service compliance + GenAI integration + prompt system adoption). While valuable for architectural hygiene, it:</p>
<ul>
<li>‚úÖ Addresses testability and dependency management</li>
<li>‚úÖ Integrates modern prompt system and GenAI service</li>
<li>‚ùå <strong>Doesn't address context fragmentation</strong> - still processes segments in isolation</li>
<li>‚ùå <strong>Doesn't enable strategy polymorphism</strong> - single approach remains hard-coded</li>
<li>‚ùå <strong>Doesn't provide validation loops</strong> - brittleness persists</li>
<li>‚ùå <strong>Doesn't support experimentation</strong> - no framework for comparing strategies</li>
<li>‚ùå <strong>Doesn't solve cross-document coherence</strong> - documents still processed independently</li>
</ul>
<p><strong>Conclusion</strong>: We need a <strong>platform architecture</strong> that makes AT03's patterns (ports/adapters, prompt catalog, DI) serve strategy experimentation and context fidelity, not just cleaner code.</p>
<hr />
<h2 id="decision">Decision<a class="headerlink" href="#decision" title="Link to this section">&para;</a></h2>
<h3 id="key-definitions">Key Definitions<a class="headerlink" href="#key-definitions" title="Link to this section">&para;</a></h3>
<p>To ensure clarity across follow-on ADRs (AT05-AT10), we define core terms:</p>
<ul>
<li><strong>Document</strong>: Complete source text with metadata (e.g., journal entry, dharma talk transcript)</li>
<li><strong>Section</strong>: Logical subdivision of document with boundaries (start_line, implicit end_line)</li>
<li><strong>Chunk/Span</strong>: Portion of text processed in single operation (may be section, subsection, or fixed-token window)</li>
<li><strong>Strategy</strong>: Combination of (1) prompt template (from PromptCatalog), (2) configuration schema (YAML), and (3) mechanical kernel (Python code for chunking/stitching)</li>
<li><strong>Mechanical Kernel</strong>: Code-based operations for segmentation, indexing, overlap handling, merge logic (not LLM-driven)</li>
<li><strong>Task</strong>: Stateful orchestrator managing one processing stage (e.g., TranslationTask handles all section translations with retries/caching)</li>
<li><strong>Pipeline</strong>: Configured sequence of tasks with dependencies (e.g., Section ‚Üí Validate ‚Üí Translate ‚Üí Assemble)</li>
<li><strong>Context</strong>: Accumulated information (document summaries, terminology, entity maps, lineage) flowing through pipeline</li>
</ul>
<h3 id="non-goals-guardrails">Non-Goals &amp; Guardrails<a class="headerlink" href="#non-goals-guardrails" title="Link to this section">&para;</a></h3>
<p>To prevent "architecture for architecture's sake" and scope creep:</p>
<p><strong>Non-Goals</strong>:</p>
<ul>
<li><strong>No persistent workflow engine in Phase 1</strong>: Tasks manage in-memory state; checkpointing deferred to Phase 2+</li>
<li><strong>No general plugin system</strong>: Extensions via PromptCatalog + typed schemas, not arbitrary plugin loading</li>
<li><strong>No cross-document graph persistence in Phase 1-2</strong>: Terminology store is simple dict + provenance, not graph database</li>
<li><strong>No duplication of GenAIService responsibilities</strong>: AI Text Processing focuses on document-level orchestration; provider selection, caching policies, rate limiting remain GenAIService concerns</li>
</ul>
<p><strong>Guardrails</strong>:</p>
<ul>
<li><strong>Phase 1 minimal baseline</strong>: Tasks are pure functions with in-memory state; only two stateful features allowed: retry policy and small in-run cache</li>
<li><strong>ContextGraph v1 is simple</strong>: Append-only DAG stored as JSONL or in-memory object; full persistence deferred</li>
<li><strong>Strategy components have clear homes</strong>: Prompt template ‚Üí PromptCatalog, schema ‚Üí YAML config, mechanical kernel ‚Üí Python module</li>
<li><strong>Walking skeleton requirement</strong>: By end of Phase 1, must run section ‚Üí translate ‚Üí assemble with deterministic chunking, one validation pass, and QA artifact output</li>
</ul>
<h3 id="architectural-principles">Architectural Principles<a class="headerlink" href="#architectural-principles" title="Link to this section">&para;</a></h3>
<p>These seven principles guide all platform design decisions:</p>
<h4 id="1-context-first-processing">1. <strong>Context-First Processing</strong><a class="headerlink" href="#1-context-first-processing" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Plan the context window before invoking models; avoid "fire-and-forget" per-chunk calls.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li>Context Planner component builds neighbor windows, pulls doc/global glossaries, sets per-chunk variables <strong>before</strong> task execution</li>
<li>Tasks receive pre-planned context, not reactive/ad-hoc context gathering</li>
<li>Context decisions are explicit, logged, and reproducible</li>
<li>Example: "Section 3 translation will use: 2 neighbor sections, document glossary (15 terms), entity map (3 people)"</li>
</ul>
<p><strong>Benefit</strong>: Makes context decisions auditable and tunable. Prevents inconsistent context across chunks.</p>
<h4 id="2-strategies-are-prompt-driven-with-code-kernels">2. <strong>Strategies are Prompt-Driven with Code Kernels</strong><a class="headerlink" href="#2-strategies-are-prompt-driven-with-code-kernels" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Strategies combine (1) prompt templates for semantic decisions, (2) configuration schemas for parameters, and (3) mechanical kernels (code) for chunking/indexing/stitching operations.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li><strong>Prompt-swappable</strong>: Semantic logic lives in PromptCatalog templates (e.g., "identify section boundaries based on topic shifts")</li>
<li><strong>Config-driven</strong>: Parameters in YAML (e.g., <code>min_section_lines: 5</code>, <code>overlap_tokens: 50</code>)</li>
<li><strong>Code kernels</strong>: Deterministic operations remain Python (e.g., heading extraction via regex, token window splitting, overlap policy, gap detection)</li>
<li>New strategy = drop in new prompt + config + (optionally) new mechanical kernel module</li>
<li>Example: <code>heading-based</code> strategy uses heading extractor kernel (code) + prompt to refine boundaries (LLM)</li>
</ul>
<p><strong>Rationale</strong>: Avoids pushing brittle "string surgery" into LLM prompts. Semantic decisions are prompt-driven; mechanical operations stay in code for reliability and performance.</p>
<p><strong>Benefit</strong>: Enables rapid semantic experimentation while maintaining deterministic mechanical foundations.</p>
<h4 id="3-task-as-stateful-orchestrator-unit">3. <strong>Task as Stateful Orchestrator Unit</strong><a class="headerlink" href="#3-task-as-stateful-orchestrator-unit" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Tasks orchestrate multi-step operations with retries and in-run caching, maintaining state internally rather than as pure functions.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li>Pipeline = sequence of tasks: <code>Section ‚Üí Validate ‚Üí Translate ‚Üí Validate ‚Üí Assemble</code></li>
<li>Each task manages: chunk queueing, retry logic, result stitching</li>
<li>Tasks maintain <strong>in-memory state</strong> during execution (e.g., TranslationTask accumulates terminology across 10 sections)</li>
<li><strong>Phase 1 constraint</strong>: State is ephemeral (no persistence); only retry policy and small in-run cache allowed</li>
<li><strong>Phase 2+</strong>: Add checkpointing for recovery, persistent state for cross-run optimization</li>
<li>Users can insert validation loops, adjust context windows, swap strategies mid-pipeline</li>
</ul>
<p><strong>Benefit</strong>: Complex operations (translate 50-section document with validation) become single task invocation. State management is encapsulated, avoiding workflow engine complexity in v1.</p>
<h4 id="4-context-as-a-propagation-graph">4. <strong>Context as a Propagation Graph</strong><a class="headerlink" href="#4-context-as-a-propagation-graph" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Every task contributes to an accumulating context graph that downstream tasks can query.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li>Context includes: section summaries, terminology maps, entity references, cross-document glossaries</li>
<li>Tasks explicitly declare what context they consume (e.g., "I need document-level key concepts")</li>
<li>Full traceability: response fingerprints + lineage tracking through entire graph</li>
<li>Context persists across documents in multi-document pipelines</li>
</ul>
<p><strong>Benefit</strong>: Solves context fragmentation - downstream tasks have rich context for quality decisions.</p>
<h4 id="5-deterministic-lineage-to-source">5. <strong>Deterministic Lineage to Source</strong><a class="headerlink" href="#5-deterministic-lineage-to-source" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Every output ties to prompt key/version, fingerprint, source section IDs, and original line ranges with diff-view support.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li>All outputs include: <code>source_section_id</code>, <code>source_line_range</code> (e.g., "lines 42-67"), <code>prompt_fingerprint</code>, <code>model_metadata</code></li>
<li>Assembly stage produces alignment maps: translated section ‚Üí source section + line numbers</li>
<li>QA workflows: side-by-side view (source lines | translated lines) with anchors</li>
<li>Reproducibility: "Re-translate section 3 with same prompt version" ‚Üí deterministic</li>
</ul>
<p><strong>Benefit</strong>: Enables QA workflows, debugging, reproducibility, and auditing. Translations are always traceable to source.</p>
<h4 id="6-object-service-for-strategy-polymorphism">6. <strong>Object-Service for Strategy Polymorphism</strong><a class="headerlink" href="#6-object-service-for-strategy-polymorphism" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Hexagonal architecture (ports/adapters) serves strategy interchangeability, not just dependency abstraction.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li><code>SectioningPort</code> protocol with multiple adapters: <code>HeadingBasedAdapter</code>, <code>TokenWindowAdapter</code>, <code>SemanticChunkAdapter</code></li>
<li><code>ContextEnrichmentPort</code> protocol with adapters: <code>NeighborLinesAdapter</code>, <code>TerminologyEnrichedAdapter</code></li>
<li>Test harness exercises same pipeline with different adapter wiring to compare strategies</li>
<li>Production code swaps adapters based on document type or user preference</li>
</ul>
<p><strong>Benefit</strong>: Strategy experimentation becomes architectural, not ad-hoc. AT03's patterns serve this higher purpose.</p>
<h4 id="7-evaluation-as-built-in">7. <strong>Evaluation as Built-In</strong><a class="headerlink" href="#7-evaluation-as-built-in" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Every processing run captures strategy metadata and enables quantitative comparison.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li>Every run records: strategy used, context consumed, response fingerprints, quality metrics, cost/latency</li>
<li>Comparison framework: "Run corpus through 3 sectioning strategies, generate quality report"</li>
<li>Support human spot-checks, automated metrics (BLEU/COMET for translation), hallucination detection</li>
<li>Evaluation harness is first-class platform component, not afterthought tooling</li>
</ul>
<p><strong>Benefit</strong>: Data-driven strategy selection replaces intuition. Platform learns what works.</p>
<h4 id="8-validation-loops-for-brittleness">8. <strong>Validation Loops for Brittleness</strong><a class="headerlink" href="#8-validation-loops-for-brittleness" title="Link to this section">&para;</a></h4>
<p><strong>Principle</strong>: Known failure modes (section boundary errors, translation drift) get dedicated validation prompts inserted into pipelines with explicit failure semantics.</p>
<p><strong>Implication</strong>:</p>
<ul>
<li>Section validator prompt: "Check boundaries, fix off-by-one errors, ensure contiguous coverage"</li>
<li>Translation spot-checker prompt: "Sample 3 passages, verify accuracy against source, flag concerns"</li>
<li>Validation as optional pipeline stages configured per workflow</li>
<li><strong>Validation Results</strong>: <code>PASS | WARN | FAIL</code></li>
<li><code>FAIL</code>: Stops pipeline unless <code>allow_fail=true</code>; emits error artifact with source span references</li>
<li><code>WARN</code>: Continues but emits QA artifact for human review</li>
<li><code>PASS</code>: Proceeds to next task</li>
<li>Each validation outputs: standardized report + references to exact source span (line ranges)</li>
</ul>
<p><strong>Benefit</strong>: Addresses PoC brittleness systematically with clear failure contracts. Quality gates prevent bad outputs while enabling human-in-loop workflows.</p>
<hr />
<h3 id="platform-architecture-impact">Platform Architecture Impact<a class="headerlink" href="#platform-architecture-impact" title="Link to this section">&para;</a></h3>
<p>This strategy affects TNH Scholar's overall platform architecture and requires clarification of component positioning:</p>
<h4 id="relationship-to-existing-architecture">Relationship to Existing Architecture<a class="headerlink" href="#relationship-to-existing-architecture" title="Link to this section">&para;</a></h4>
<p><strong>AT01 Pipeline Architecture</strong>: This ADR <strong>extends</strong> (not replaces) AT01's pipeline model:</p>
<ul>
<li><strong>AT01 provides</strong>: <code>Pipeline ‚Üí ProcessState ‚Üí ProcessResult</code> abstraction for text transformations</li>
<li><strong>AT04 specializes</strong>: Multi-step AI operations requiring context planning, chunking, and validation</li>
<li><strong>Relationship</strong>: Task Orchestrator is a specialized implementation of AT01's pipeline pattern for AI workloads</li>
</ul>
<p><strong>GenAI Service Boundary</strong> (from ADR-A13):</p>
<ul>
<li><strong>GenAI Service scope</strong>: Single-completion execution, provider abstraction, response fingerprinting</li>
<li><strong>Task Orchestrator scope</strong>: Multi-call orchestration with state, context planning, result assembly</li>
<li><strong>Integration</strong>: Task Orchestrator is <strong>expected client</strong> of GenAI service for complex AI workflows</li>
</ul>
<p><strong>Object-Service Patterns</strong> (from ADR-OS01):</p>
<ul>
<li><strong>Conformance</strong>: Task follows Service pattern (protocol + adapters), Context Planner follows Service pattern</li>
<li><strong>Extension</strong>: Orchestration responsibilities are new, but built on existing ports/adapters foundation</li>
<li><strong>Blueprint alignment</strong>: Task = Service, Strategies = Adapters, Pipeline = Processor</li>
</ul>
<h4 id="architectural-layer-positioning">Architectural Layer Positioning<a class="headerlink" href="#architectural-layer-positioning" title="Link to this section">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>‚îÇ         Application Layer (CLI, API)            ‚îÇ
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>‚îÇ             (tnh-gen, tnh-fab)                  ‚îÇ
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>                 ‚îÇ
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>        ‚îÇ    Processor Layer (Orchestration)       ‚îÇ
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        ‚îÇ                                          ‚îÇ
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        ‚îÇ  ‚Ä¢ Task Orchestrator (AI workflows)      ‚îÇ  ‚Üê NEW (AT04)
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        ‚îÇ  ‚Ä¢ Pipeline (general transformations)   ‚îÇ   ‚Üê Existing (AT01)
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>                 ‚îÇ
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        ‚îÇ       Service Layer                      ‚îÇ
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        ‚îÇ                                          ‚îÇ
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        ‚îÇ  ‚Ä¢ GenAI Service (AI execution)          ‚îÇ  ‚Üê Existing (A13)
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        ‚îÇ  ‚Ä¢ Context Planner (context prep)        ‚îÇ  ‚Üê NEW (AT04)
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        ‚îÇ  ‚Ä¢ Prompt Catalog (template mgmt)        ‚îÇ  ‚Üê Existing (PT04)
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>        ‚îÇ  ‚Ä¢ TextObject (state container)          ‚îÇ  ‚Üê Existing (AT01/02)
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span></code></pre></div>
<p><strong>Answer to Key Questions</strong>:</p>
<ol>
<li>
<p><strong>Orchestration Scope</strong>: Task Orchestrator is <strong>domain-specific</strong> for AI text processing (translation, summarization). It is <strong>not</strong> a platform-wide pattern for all processing.</p>
</li>
<li>
<p><strong>Context Planning Scope</strong>: Context Planner is <strong>general capability</strong> for AI workloads but <strong>initially implemented</strong> for translation. Could serve summarization, extraction in Phase 2+.</p>
</li>
<li>
<p><strong>Assembly/Validation Position</strong>: Assembly/Validation is <strong>peer component</strong> to Task Orchestrator, operates on Task results (not inside Task execution).</p>
</li>
<li>
<p><strong>Evaluation Harness Nature</strong>: Evaluation is <strong>development tooling</strong> (offline experimentation) that can optionally integrate as <strong>runtime capability</strong> (continuous quality monitoring) in Phase 4+.</p>
</li>
</ol>
<h4 id="generalization-strategy">Generalization Strategy<a class="headerlink" href="#generalization-strategy" title="Link to this section">&para;</a></h4>
<p><strong>Phase 1 (Current - Translation Focus)</strong>:</p>
<ul>
<li>Optimize for translation: chunking, terminology, alignment</li>
<li>Context Planning specialized for sectioned document translation</li>
<li>Validation focused on translation accuracy/completeness</li>
</ul>
<p><strong>Phase 2 (Abstraction Extraction)</strong>:</p>
<ul>
<li>Identify common patterns across translation, summarization, extraction</li>
<li>Extract reusable Task Orchestrator patterns (chunk ‚Üí process ‚Üí merge)</li>
<li>Generalize Context Planning for any multi-chunk AI workflow</li>
</ul>
<p><strong>Phase 3 (Platform Capability)</strong>:</p>
<ul>
<li>Task Orchestrator becomes platform pattern for all multi-step AI work</li>
<li>Context Planning serves all AI services</li>
<li>Evaluation harness supports any AI workflow metrics</li>
</ul>
<p><strong>Design Principle</strong>: "Build concrete, extract abstractions" - no premature generalization. Translation is the proving ground; patterns emerge through use.</p>
<hr />
<h3 id="platform-architecture">Platform Architecture<a class="headerlink" href="#platform-architecture" title="Link to this section">&para;</a></h3>
<h4 id="component-overview">Component Overview<a class="headerlink" href="#component-overview" title="Link to this section">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>‚îÇ                      Processing Pipeline                            ‚îÇ
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>‚îÇ   (Configurable sequence of Tasks with Strategy Selection)          ‚îÇ
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>‚îÇ                                                                     ‚îÇ
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>‚îÇ   Ingestion ‚Üí Sectioning ‚Üí Context Planner ‚Üí Task Orchestrator ‚Üí    ‚îÇ
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>‚îÇ   GenAI + PT04 ‚Üí Assembly/Validation ‚Üí Outputs                      ‚îÇ
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>                         ‚îÇ
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>                         ‚îÇ orchestrates
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>                         ‚Üì
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>         ‚îÇ               ‚îÇ                                ‚îÇ
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    ‚îÇ Section  ‚îÇ   ‚îÇContext   ‚îÇ   ‚îÇ   Translate   ‚îÇ  ‚îÇ  Assembly/   ‚îÇ
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    ‚îÇ   Task   ‚îÇ   ‚îÇ Planner  ‚îÇ   ‚îÇ     Task      ‚îÇ  ‚îÇ  Validation  ‚îÇ
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>         ‚îÇ              ‚îÇ                ‚îÇ                  ‚îÇ
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>         ‚îÇ Uses Strategy Ports (polymorphic adapters)       ‚îÇ
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>         ‚îÇ              ‚îÇ                ‚îÇ                  ‚îÇ
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>         ‚îÇ              ‚îÇ Plans context  ‚îÇ                  ‚îÇ Stitches/aligns
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>         ‚îÇ              ‚îÇ windows        ‚îÇ                  ‚îÇ to source
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>         ‚Üì              ‚Üì                ‚Üì                  ‚Üì
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    ‚îÇ              Strategy Catalog                          ‚îÇ
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    ‚îÇ      (Prompt-driven, versioned strategies)             ‚îÇ
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    ‚îÇ                                                        ‚îÇ
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    ‚îÇ  Sectioning:                                           ‚îÇ
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>    ‚îÇ    ‚Ä¢ heading-based.md (extract markdown headings)      ‚îÇ
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>    ‚îÇ    ‚Ä¢ token-windows.md (fixed-size chunks)              ‚îÇ
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>    ‚îÇ    ‚Ä¢ semantic-chunks.md (paragraph boundaries)         ‚îÇ
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>    ‚îÇ    ‚Ä¢ ai-identified.md (current PoC approach)           ‚îÇ
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>    ‚îÇ                                                        ‚îÇ
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    ‚îÇ  Context Enrichment:                                   ‚îÇ
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>    ‚îÇ    ‚Ä¢ neighbor-lines.md (N lines before/after)          ‚îÇ
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>    ‚îÇ    ‚Ä¢ section-summary.md (full section + summary)       ‚îÇ
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>    ‚îÇ    ‚Ä¢ terminology-enriched.md (+ glossary)              ‚îÇ
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>    ‚îÇ    ‚Ä¢ cross-section.md (adjacent section context)       ‚îÇ
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>    ‚îÇ                                                        ‚îÇ
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>    ‚îÇ  Validation:                                           ‚îÇ
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>    ‚îÇ    ‚Ä¢ section-boundary-check.md (fix off-by-one)        ‚îÇ
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>    ‚îÇ    ‚Ä¢ translation-spot-check.md (sample passages)       ‚îÇ
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>    ‚îÇ    ‚Ä¢ metadata-completeness.md (required fields)        ‚îÇ
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>         ‚îÇ
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>         ‚îÇ reads from
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>         ‚Üì
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>    ‚îÇ         Context Propagation Layer                  ‚îÇ
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>    ‚îÇ  (Accumulates metadata, tracks lineage)            ‚îÇ
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a>    ‚îÇ                                                    ‚îÇ
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a>    ‚îÇ  Graph nodes:                                      ‚îÇ
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a>    ‚îÇ    ‚Ä¢ Section boundaries + metadata                 ‚îÇ
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a>    ‚îÇ    ‚Ä¢ Document summaries + key concepts             ‚îÇ
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a>    ‚îÇ    ‚Ä¢ Terminology maps (term ‚Üí translation)         ‚îÇ
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a>    ‚îÇ    ‚Ä¢ Entity references (people, places, concepts)  ‚îÇ
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a>    ‚îÇ    ‚Ä¢ Response fingerprints (prompt versions)       ‚îÇ
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a>    ‚îÇ    ‚Ä¢ Task lineage (section ‚Üí translate ‚Üí validate) ‚îÇ
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a>    ‚îÇ                                                    ‚îÇ
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a>    ‚îÇ  Cross-document extensions:                        ‚îÇ
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a>    ‚îÇ    ‚Ä¢ Shared terminology service                    ‚îÇ
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a>    ‚îÇ    ‚Ä¢ Multi-document concept tracking               ‚îÇ
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a>    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a>         ‚îÇ
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a>         ‚îÇ integrates with
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a>         ‚Üì
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a>    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a>    ‚îÇ     Integration Layer (from AT03)                  ‚îÇ
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a>    ‚îÇ                                                    ‚îÇ
</span><span id="__span-1-69"><a id="__codelineno-1-69" name="__codelineno-1-69" href="#__codelineno-1-69"></a>    ‚îÇ  ‚Ä¢ GenAI Service (ADR-A13): Prompt execution       ‚îÇ
</span><span id="__span-1-70"><a id="__codelineno-1-70" name="__codelineno-1-70" href="#__codelineno-1-70"></a>    ‚îÇ  ‚Ä¢ Prompt System (ADR-PT04): Template rendering    ‚îÇ
</span><span id="__span-1-71"><a id="__codelineno-1-71" name="__codelineno-1-71" href="#__codelineno-1-71"></a>    ‚îÇ  ‚Ä¢ TextObject (ADR-AT01/02): State container       ‚îÇ
</span><span id="__span-1-72"><a id="__codelineno-1-72" name="__codelineno-1-72" href="#__codelineno-1-72"></a>    ‚îÇ  ‚Ä¢ Object-Service (ADR-OS01): Ports/adapters       ‚îÇ
</span><span id="__span-1-73"><a id="__codelineno-1-73" name="__codelineno-1-73" href="#__codelineno-1-73"></a>    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span></code></pre></div>
<h4 id="core-components">Core Components<a class="headerlink" href="#core-components" title="Link to this section">&para;</a></h4>
<h5 id="1-context-planner">1. Context Planner<a class="headerlink" href="#1-context-planner" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Pre-plans context windows for tasks before execution; builds neighbor windows, pulls glossaries, sets per-chunk variables.</p>
<p><strong>Responsibilities</strong>:</p>
<ul>
<li>Analyze document structure and task requirements</li>
<li>Determine context scope per section (e.g., "2 neighbor sections + document glossary")</li>
<li>Build context packages: neighbor text, terminology maps, entity references</li>
<li>Log context decisions for auditability and tuning</li>
<li>Output: <code>ContextPlan</code> objects consumed by tasks</li>
</ul>
<p><strong>Context Planning Strategies</strong>:</p>
<ul>
<li><strong>Neighbor-based</strong>: N sections before/after current section</li>
<li><strong>Glossary-enriched</strong>: Document or cross-document terminology injection</li>
<li><strong>Entity-aware</strong>: Reference resolution (people, places, concepts)</li>
<li><strong>Adaptive</strong>: Adjust context window based on section complexity</li>
</ul>
<p><strong>Example Context Plan</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nd">@dataclass</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">ContextPlan</span><span class="p">:</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Pre-planned context for a task.&quot;&quot;&quot;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="n">section_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="n">neighbor_sections</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>  <span class="c1"># IDs of adjacent sections</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="n">glossary_terms</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>  <span class="c1"># term ‚Üí translation</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="n">entity_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>  <span class="c1"># entity ‚Üí description</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>    <span class="n">context_window_tokens</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Estimated token usage</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>    <span class="n">rationale</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Why this context was selected</span>
</span></code></pre></div>
<p><strong>Integration</strong>:</p>
<ul>
<li>Sits between Sectioning and Task Execution</li>
<li>Queries Context Propagation Layer for document/global context</li>
<li>Produces explicit context packages logged for reproducibility</li>
</ul>
<h5 id="2-task-abstraction">2. Task Abstraction<a class="headerlink" href="#2-task-abstraction" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Unit of work in processing pipeline with clear inputs, outputs, and strategy selection.</p>
<p><strong>Interface</strong> (conceptual):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Unit of work in processing pipeline.&quot;&quot;&quot;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        <span class="nb">input</span><span class="p">:</span> <span class="n">TaskInput</span><span class="p">,</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>        <span class="n">strategy</span><span class="p">:</span> <span class="n">Strategy</span><span class="p">,</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>        <span class="n">context</span><span class="p">:</span> <span class="n">ContextGraph</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskResult</span><span class="p">:</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute task with selected strategy and context.&quot;&quot;&quot;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        <span class="o">...</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">required_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Declare what context this task consumes.&quot;&quot;&quot;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        <span class="o">...</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">contributed_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Declare what context this task produces.&quot;&quot;&quot;</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>        <span class="o">...</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="nd">@dataclass</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="k">class</span><span class="w"> </span><span class="nc">TaskInput</span><span class="p">:</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input to a task.&quot;&quot;&quot;</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>    <span class="n">text_object</span><span class="p">:</span> <span class="n">TextObject</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">TaskConfig</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">Metadata</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="nd">@dataclass</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="k">class</span><span class="w"> </span><span class="nc">TaskResult</span><span class="p">:</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Result from task execution.&quot;&quot;&quot;</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>    <span class="n">text_object</span><span class="p">:</span> <span class="n">TextObject</span>  <span class="c1"># Transformed state</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">Metadata</span>  <span class="c1"># Metadata contributions</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>    <span class="n">fingerprint</span><span class="p">:</span> <span class="n">Fingerprint</span>  <span class="c1"># Response provenance</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>    <span class="n">metrics</span><span class="p">:</span> <span class="n">Metrics</span>  <span class="c1"># Quality/cost/latency</span>
</span></code></pre></div>
<p><strong>Task Types</strong> (initial set):</p>
<ul>
<li><code>SectioningTask</code>: Divide text into logical sections</li>
<li><code>TranslationTask</code>: Translate text with context</li>
<li><code>ValidationTask</code>: Verify quality and fix errors</li>
<li><code>AssemblyTask</code>: Combine processed sections with alignment mapping</li>
<li><code>EnrichmentTask</code>: Add context (summaries, glossaries)</li>
</ul>
<p><strong>Key Design Choices</strong>:</p>
<ul>
<li>Tasks manage state internally (chunk queues, retries, accumulated terminology) but present clean interfaces</li>
<li>Tasks declare context dependencies explicitly (enables validation and optimization)</li>
<li>Tasks contribute to context graph (enables lineage tracking)</li>
<li>Tasks are units of retry and caching</li>
</ul>
<h5 id="3-assembly-validation-stage">3. Assembly &amp; Validation Stage<a class="headerlink" href="#3-assembly-validation-stage" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Merge processed chunks with deterministic alignment to source; verify quality and completeness.</p>
<p><strong>Responsibilities</strong>:</p>
<ul>
<li><strong>Stitching</strong>: Combine translated sections into final document</li>
<li><strong>Alignment mapping</strong>: Produce <code>translated_section_id ‚Üí source_section_id + source_line_range</code> maps</li>
<li><strong>Verification</strong>: Check for omissions, hallucinations, boundary errors</li>
<li><strong>QA outputs</strong>: Generate side-by-side views (source | translation) with line anchors</li>
</ul>
<p><strong>Alignment Map Structure</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nd">@dataclass</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">AlignmentMap</span><span class="p">:</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maps translated output to source.&quot;&quot;&quot;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="n">translated_section_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="n">source_section_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="n">source_line_range</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>  <span class="c1"># (start_line, end_line)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="n">prompt_fingerprint</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="n">model_metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="n">quality_metrics</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>  <span class="c1"># BLEU, confidence, etc.</span>
</span></code></pre></div>
<p><strong>QA Workflow Support</strong>:</p>
<ul>
<li><strong>Side-by-side view</strong>: Source lines | Translated lines with anchors</li>
<li><strong>Diff view</strong>: Highlight additions, omissions, structural changes</li>
<li><strong>Spot-check interface</strong>: Sample passages with quality ratings</li>
<li><strong>Reproducibility</strong>: "Re-translate section 3 with prompt v1.2" ‚Üí deterministic re-run</li>
</ul>
<p><strong>Validation Strategies</strong>:</p>
<ul>
<li><strong>Heuristic checks</strong>: Line count variance, character ratio, structural markers</li>
<li><strong>LLM-based checks</strong>: Secondary prompt asking "Are there omissions or hallucinations?"</li>
<li><strong>Human-in-loop</strong>: Flag suspicious sections for manual review</li>
</ul>
<p><strong>Integration</strong>:</p>
<ul>
<li>Final stage before outputs</li>
<li>Consumes all task results + context graph</li>
<li>Produces final <code>TextObject</code> + alignment metadata + QA artifacts</li>
</ul>
<h5 id="4-strategy-catalog">4. Strategy Catalog<a class="headerlink" href="#4-strategy-catalog" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Registry of prompt-driven strategies with versioning and discovery.</p>
<p><strong>Structure</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>prompts/
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  strategies/
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    sectioning/
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>      heading-based.md          # Extract markdown/HTML headings
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>      token-windows.md          # Fixed-size token chunks
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>      semantic-chunks.md        # Paragraph/thought boundaries
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>      ai-identified.md          # Current PoC approach
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    context/
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>      neighbor-lines.md         # N lines before/after
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>      section-summary.md        # Full section + AI summary
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>      terminology-enriched.md   # + accumulated glossary
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>      cross-section.md          # Adjacent section context
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    validation/
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>      section-boundary-check.md # Fix off-by-one errors
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>      translation-spot-check.md # Sample passages for quality
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>      metadata-completeness.md  # Ensure required fields
</span></code></pre></div>
<p><strong>Strategy Prompt Format</strong>:</p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>---
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>name: heading-based
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>version: 1.0
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>strategy_type: sectioning
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>description: Extract document headings and use as section boundaries
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>required_variables: [input_text]
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>optional_variables: [heading_pattern]
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>default_model: gpt-4
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>output_mode: json
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>response_format: section_boundaries
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="gu">tags: [sectioning, structured-documents]</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="gu">---</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>Extract all headings from the following text and identify section boundaries:
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>{{input_text}}
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>Return a JSON list of sections with start_line and title for each heading.
</span></code></pre></div>
<p><strong>Strategy Configuration Schema</strong>:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># config/strategies/heading-based.yaml</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">heading-based</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nt">parameters</span><span class="p">:</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="nt">heading_pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;^#{1,6}\\s&quot;</span><span class="w">  </span><span class="c1"># Markdown headings</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="nt">min_section_lines</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="nt">max_sections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
</span></code></pre></div>
<p><strong>Strategy Component Locations</strong> (single source of truth):</p>
<ul>
<li><strong>Prompt Template</strong>: Lives in PromptCatalog (PT04) at <code>prompts/strategies/{type}/{name}.md</code></li>
<li><strong>Configuration Schema</strong>: YAML file at <code>config/strategies/{name}.yaml</code> OR embedded in prompt frontmatter</li>
<li><strong>Mechanical Kernel</strong>: Python module at <code>src/tnh_scholar/ai_text_processing/kernels/{name}.py</code> (if strategy needs custom chunking/merge logic)</li>
<li><strong>Strategy Registration</strong>: Auto-discovery via catalog scan + explicit type annotation in prompt frontmatter</li>
</ul>
<p><strong>Discovery Mechanism</strong>:</p>
<ul>
<li>Strategy catalog scans <code>prompts/strategies/</code> directory</li>
<li>Strategies registered by type (sectioning, context, validation) via frontmatter <code>strategy_type</code> field</li>
<li>Runtime selection via configuration or heuristics</li>
</ul>
<h5 id="3-context-propagation-layer">3. Context Propagation Layer<a class="headerlink" href="#3-context-propagation-layer" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Accumulate and propagate context through pipeline with lineage tracking.</p>
<p><strong>Context Graph Model</strong> (v1 - Simple):</p>
<p><strong>Phase 1 Constraint</strong>: ContextGraph is an append-only DAG stored as in-memory object or JSONL. No graph database; no complex query engine. Cross-document context starts as single TerminologyStore (dict + provenance).</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nd">@dataclass</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">ContextNode</span><span class="p">:</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Node in context propagation graph.&quot;&quot;&quot;</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="n">node_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># &#39;document&#39;, &#39;section&#39;, &#39;task_result&#39;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="n">content</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>  <span class="c1"># Flexible key-value store</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>    <span class="n">fingerprint</span><span class="p">:</span> <span class="n">Fingerprint</span>  <span class="c1"># Response provenance</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>    <span class="n">parent_nodes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>  <span class="c1"># Lineage tracking</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">class</span><span class="w"> </span><span class="nc">ContextGraph</span><span class="p">:</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Graph of accumulated context.&quot;&quot;&quot;</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">ContextNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add context node with lineage.&quot;&quot;&quot;</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>        <span class="o">...</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">filters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">ContextNode</span><span class="p">]:</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Query context by type and filters.&quot;&quot;&quot;</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>        <span class="o">...</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_lineage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">ContextNode</span><span class="p">]:</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get full lineage for a node.&quot;&quot;&quot;</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>        <span class="o">...</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">ContextGraph</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContextGraph</span><span class="p">:</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Merge graphs (for cross-document).&quot;&quot;&quot;</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>        <span class="o">...</span>
</span></code></pre></div>
<p><strong>Context Types</strong>:</p>
<ul>
<li><strong>Document-level</strong>: Summary, key concepts, narrative context, language</li>
<li><strong>Section-level</strong>: Boundaries, titles, summaries, complexity estimates</li>
<li><strong>Terminology</strong>: Term ‚Üí translation mappings, entity references</li>
<li><strong>Task lineage</strong>: Which tasks produced which outputs, with fingerprints</li>
<li><strong>Quality metrics</strong>: Translation scores, validation results, cost/latency</li>
</ul>
<p><strong>Propagation Rules</strong>:</p>
<ul>
<li>Document-level context flows to all sections and tasks</li>
<li>Section context flows to tasks operating on that section</li>
<li>Task results contribute back to graph for downstream tasks</li>
<li>Cross-document: terminology merges across document boundaries</li>
</ul>
<h5 id="4-pipeline-orchestration">4. Pipeline Orchestration<a class="headerlink" href="#4-pipeline-orchestration" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Compose tasks into workflows with dependency management and failure handling.</p>
<p><strong>Pipeline Configuration</strong> (YAML example):</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">pipeline</span><span class="p">:</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">journal-translation</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Translate journal with validation</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">section</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SectioningTask</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">      </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ai-identified</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">      </span><span class="nt">config</span><span class="p">:</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">        </span><span class="nt">target_tokens</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">650</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">        </span><span class="nt">section_range</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">7</span><span class="p p-Indicator">]</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validate_sections</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ValidationTask</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">      </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">section-boundary-check</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">      </span><span class="nt">depends_on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">section</span><span class="p p-Indicator">]</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">      </span><span class="nt">config</span><span class="p">:</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">        </span><span class="nt">fix_errors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">        </span><span class="nt">max_retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">translate</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TranslationTask</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">      </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">section-aware</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">      </span><span class="nt">depends_on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">validate_sections</span><span class="p p-Indicator">]</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">      </span><span class="nt">config</span><span class="p">:</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">        </span><span class="nt">context_strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terminology-enriched</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">        </span><span class="nt">target_language</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">        </span><span class="nt">context_lines</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spot_check</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ValidationTask</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="w">      </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">translation-spot-check</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="w">      </span><span class="nt">depends_on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">translate</span><span class="p p-Indicator">]</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="w">      </span><span class="nt">config</span><span class="p">:</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="w">        </span><span class="nt">sample_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">        </span><span class="nt">threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.8</span>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assemble</span>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AssemblyTask</span>
</span><span id="__span-9-40"><a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="w">      </span><span class="nt">depends_on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">spot_check</span><span class="p p-Indicator">]</span>
</span></code></pre></div>
<p><strong>Orchestration Features</strong>:</p>
<ul>
<li>Dependency resolution (topological sort)</li>
<li>Parallel execution where possible (independent tasks)</li>
<li>Retry logic per task (configurable max retries)</li>
<li>Failure isolation (continue or abort on task failure)</li>
<li>Context propagation between tasks</li>
<li>Checkpointing for recovery</li>
</ul>
<h5 id="5-experimentation-harness">5. Experimentation Harness<a class="headerlink" href="#5-experimentation-harness" title="Link to this section">&para;</a></h5>
<p><strong>Purpose</strong>: Quantitative comparison of strategies on standard corpus.</p>
<p><strong>Comparison Framework</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Experiment</span><span class="p">:</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Compare strategies on corpus.&quot;&quot;&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>        <span class="n">corpus</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">TextObject</span><span class="p">],</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>        <span class="n">baseline_strategy</span><span class="p">:</span> <span class="n">Strategy</span><span class="p">,</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>        <span class="n">candidate_strategies</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Strategy</span><span class="p">]</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    <span class="p">):</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>        <span class="o">...</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComparisonReport</span><span class="p">:</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Run all strategies on corpus, collect metrics.&quot;&quot;&quot;</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>        <span class="o">...</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="nd">@dataclass</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="k">class</span><span class="w"> </span><span class="nc">ComparisonReport</span><span class="p">:</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Results from strategy comparison.&quot;&quot;&quot;</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>    <span class="n">strategies</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>    <span class="n">metrics</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span>  <span class="c1"># strategy ‚Üí metric ‚Üí value</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>    <span class="n">human_evaluations</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Rating</span><span class="p">]]</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>    <span class="n">cost_analysis</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CostBreakdown</span><span class="p">]</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>    <span class="n">recommendations</span><span class="p">:</span> <span class="nb">str</span>
</span></code></pre></div>
<p><strong>Metrics Collected</strong>:</p>
<ul>
<li><strong>Quality</strong>: BLEU/COMET scores (translation), section coverage (sectioning), error rates (validation)</li>
<li><strong>Cost</strong>: Token usage, API calls, total cost</li>
<li><strong>Latency</strong>: Processing time per document, per task</li>
<li><strong>Human evaluations</strong>: Spot-check ratings, error annotations</li>
</ul>
<p><strong>Usage</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Compare sectioning strategies</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="n">corpus</span><span class="o">=</span><span class="n">load_corpus</span><span class="p">(</span><span class="s2">&quot;JVB-journals&quot;</span><span class="p">),</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="n">baseline_strategy</span><span class="o">=</span><span class="s2">&quot;ai-identified&quot;</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="n">candidate_strategies</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;heading-based&quot;</span><span class="p">,</span> <span class="s2">&quot;semantic-chunks&quot;</span><span class="p">]</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="p">)</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">report</span> <span class="o">=</span> <span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">report</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>  <span class="c1"># Show comparison table</span>
</span></code></pre></div>
<h5 id="6-integration-points-from-at03">6. Integration Points (from AT03)<a class="headerlink" href="#6-integration-points-from-at03" title="Link to this section">&para;</a></h5>
<p><strong>Boundary with GenAI Service (ADR-A13)</strong>:</p>
<p>AI Text Processing focuses on <strong>document-level orchestration</strong>; GenAIService owns <strong>provider/execution concerns</strong>:</p>
<ul>
<li><strong>AI Text Processing responsibilities</strong>: Strategy selection, context planning, chunk queueing, validation orchestration</li>
<li><strong>GenAIService responsibilities</strong>: Provider selection (OpenAI, Anthropic, etc.), rate limiting, retry/backpressure, response caching, cost tracking, model routing</li>
<li><strong>Integration</strong>: All AI calls go through <code>GenAIService.execute()</code>; no direct OpenAI SDK usage</li>
<li>Strategy prompts rendered via <code>PromptsAdapter</code> from PromptCatalog</li>
<li>Response fingerprinting for provenance tracking handled by GenAIService</li>
</ul>
<p><strong>Prompt System Integration (ADR-PT04)</strong>:</p>
<ul>
<li>Strategy prompts stored in PromptCatalog (PT04)</li>
<li>Template rendering with variable substitution via PromptsAdapter</li>
<li>Prompt versioning and rollback support from PT04</li>
<li>Introspection for strategy discovery (scan <code>prompts/strategies/</code> with PT04 catalog APIs)</li>
</ul>
<p><strong>TextObject Integration (ADR-AT01/AT02)</strong>:</p>
<ul>
<li><code>TextObject</code> remains state container</li>
<li>Section boundaries via implicit end_line model</li>
<li>Metadata propagation via <code>merge_metadata()</code></li>
<li>Transform tracking via process history</li>
</ul>
<p><strong>Object-Service Patterns (ADR-OS01)</strong>:</p>
<ul>
<li>Ports: <code>SectioningPort</code>, <code>ContextEnrichmentPort</code>, <code>ValidationPort</code></li>
<li>Adapters: Strategy-specific implementations</li>
<li>Dependency injection for testability</li>
<li>Protocol-based contracts for flexibility</li>
</ul>
<hr />
<h3 id="initial-strategy-set">Initial Strategy Set<a class="headerlink" href="#initial-strategy-set" title="Link to this section">&para;</a></h3>
<h4 id="sectioning-strategies">Sectioning Strategies<a class="headerlink" href="#sectioning-strategies" title="Link to this section">&para;</a></h4>
<ol>
<li><strong>AI-Identified</strong> (current PoC approach)</li>
<li>Token-based target section count</li>
<li>AI determines logical boundaries</li>
<li>Returns: sections with start_line + title</li>
<li><strong>Use case</strong>: Unstructured documents, narrative text</li>
<li>
<p><strong>Known issues</strong>: Brittleness (off-by-one errors)</p>
</li>
<li>
<p><strong>Heading-Based</strong></p>
</li>
<li>Extract markdown/HTML headings</li>
<li>Use headings as section boundaries</li>
<li>Returns: sections aligned to document structure</li>
<li><strong>Use case</strong>: Structured documents with clear headings</li>
<li>
<p><strong>Advantage</strong>: Deterministic, no AI errors</p>
</li>
<li>
<p><strong>Token-Windows</strong></p>
</li>
<li>Fixed-size token chunks (e.g., 500 tokens/section)</li>
<li>Ignore semantic boundaries</li>
<li>Returns: uniform sections</li>
<li><strong>Use case</strong>: Cost-controlled processing, batch jobs</li>
<li>
<p><strong>Advantage</strong>: Predictable cost/latency</p>
</li>
<li>
<p><strong>Semantic-Chunks</strong></p>
</li>
<li>Detect paragraph/thought boundaries</li>
<li>Section at natural break points</li>
<li>Returns: semantically coherent sections</li>
<li><strong>Use case</strong>: Translation where breaking mid-thought degrades quality</li>
<li><strong>Advantage</strong>: Preserves meaning units</li>
</ol>
<h4 id="context-enrichment-strategies">Context Enrichment Strategies<a class="headerlink" href="#context-enrichment-strategies" title="Link to this section">&para;</a></h4>
<ol>
<li><strong>Neighbor-Lines</strong> (current PoC approach)</li>
<li>N lines before/after segment (default: 3)</li>
<li>Context for AI understanding, not translation</li>
<li><strong>Use case</strong>: Baseline context for all tasks</li>
<li>
<p><strong>Known issues</strong>: May not capture enough context for complex passages</p>
</li>
<li>
<p><strong>Section-Summary</strong></p>
</li>
<li>Full section as context + AI-generated summary</li>
<li>Richer context than neighbor lines</li>
<li><strong>Use case</strong>: Long sections where neighbor lines insufficient</li>
<li>
<p><strong>Tradeoff</strong>: Higher token cost</p>
</li>
<li>
<p><strong>Terminology-Enriched</strong></p>
</li>
<li>Accumulated glossary of term ‚Üí translation mappings</li>
<li>Injected as preamble: "Use these translations consistently"</li>
<li><strong>Use case</strong>: Multi-document works, technical terminology</li>
<li>
<p><strong>Advantage</strong>: Cross-document consistency</p>
</li>
<li>
<p><strong>Cross-Section</strong></p>
</li>
<li>Include adjacent section's final/opening paragraphs</li>
<li>Preserve narrative flow across section boundaries</li>
<li><strong>Use case</strong>: Continuous narratives where sections are artificial divisions</li>
<li><strong>Advantage</strong>: Reduces context loss at boundaries</li>
</ol>
<h4 id="validation-strategies">Validation Strategies<a class="headerlink" href="#validation-strategies" title="Link to this section">&para;</a></h4>
<ol>
<li><strong>Section-Boundary-Check</strong></li>
<li>Verify: contiguous coverage, no overlaps, no gaps</li>
<li>Fix: off-by-one errors, missing lines</li>
<li><strong>Use case</strong>: After AI-identified sectioning</li>
<li>
<p><strong>Fixes known PoC brittleness</strong></p>
</li>
<li>
<p><strong>Translation-Spot-Check</strong></p>
</li>
<li>Sample N passages (default: 3)</li>
<li>Verify accuracy against source</li>
<li>Flag: hallucinations, omissions, mistranslations</li>
<li><strong>Use case</strong>: Quality gate before final output</li>
<li>
<p><strong>Human-in-loop</strong>: Can request human review on flags</p>
</li>
<li>
<p><strong>Metadata-Completeness</strong></p>
</li>
<li>Ensure required fields present (title, language, date, etc.)</li>
<li>Validate format (ISO language codes, date formats)</li>
<li><strong>Use case</strong>: Before archival or publication</li>
<li><strong>Advantage</strong>: Catch metadata issues early</li>
</ol>
<hr />
<h2 id="implementation-plan">Implementation Plan<a class="headerlink" href="#implementation-plan" title="Link to this section">&para;</a></h2>
<h3 id="phase-0-early-validation-spike-1-week">Phase 0: Early Validation Spike (1 week)<a class="headerlink" href="#phase-0-early-validation-spike-1-week" title="Link to this section">&para;</a></h3>
<p><strong>Objective</strong>: Validate core assumptions about chunking strategies and context policies with real data before committing to full platform implementation.</p>
<p><strong>Approach</strong>: Time-boxed experiment on representative documents to inform architecture decisions.</p>
<p><strong>Test Corpus Selection</strong>:</p>
<ul>
<li>3-5 representative documents from TNH corpus</li>
<li>Varied characteristics:</li>
<li><strong>Short</strong> (&lt; 2000 tokens): Quick validation, minimal context needed</li>
<li><strong>Medium</strong> (2000-5000 tokens): Typical section-based processing</li>
<li><strong>Long</strong> (5000-10000 tokens): Tests context propagation at scale</li>
<li><strong>Mixed structure</strong>: Narrative text, structured documents with headings</li>
<li><strong>Multilingual</strong>: Vietnamese ‚Üí English (primary use case)</li>
</ul>
<p><strong>Experiment Matrix</strong>:</p>
<table>
<thead>
<tr>
<th>Dimension</th>
<th>Options to Test</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Chunking Strategy</strong></td>
<td>(1) Token-windows (300 tokens), (2) Heading-aware, (3) AI-identified sections</td>
</tr>
<tr>
<td><strong>Context Policy</strong></td>
<td>(1) ¬±1 neighbor section, (2) ¬±2 neighbor sections, (3) + document glossary</td>
</tr>
<tr>
<td><strong>Prompt Variants</strong></td>
<td>(1) Current prompt, (2) Context-enriched prompt (via PT04)</td>
</tr>
</tbody>
</table>
<p><strong>Metrics to Collect</strong>:</p>
<ul>
<li><strong>Quality</strong>:</li>
<li>Human spot-checks (5 passages per document): Accuracy, fluency, terminology consistency</li>
<li>Automated (if feasible): BLEU/COMET scores against reference translations</li>
<li>
<p>Omission/hallucination detection: Heuristic checks (line count, structure)</p>
</li>
<li>
<p><strong>Cost</strong>: Token usage per document, API call count, total cost</p>
</li>
<li>
<p><strong>Latency</strong>: Processing time per document (wall-clock), per-section average</p>
</li>
<li>
<p><strong>Brittleness</strong>: Section boundary errors, retry counts, validation failures</p>
</li>
</ul>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Comparison Report</strong>: Strategy performance matrix with recommendations</li>
<li><strong>Default Configuration</strong>: Chunking + context policy based on quality/cost tradeoff</li>
<li><strong>Identified Issues</strong>: Edge cases, failure modes requiring architectural support</li>
<li><strong>Go/No-Go Decision</strong>: Does platform approach address real needs, or pivot required?</li>
</ol>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li>‚úÖ At least one strategy combination shows measurable improvement over current baseline</li>
<li>‚úÖ Human evaluations prefer context-enriched over minimal context</li>
<li>‚úÖ Cost increase (if any) is justified by quality improvement</li>
<li>‚úÖ Platform architecture can support winning strategies</li>
</ul>
<p><strong>Timeline</strong>: 1 week (Day 1-2: Setup, Day 3-4: Run experiments, Day 5: Analysis + report)</p>
<p><strong>Experiment Harness v0 Specification</strong>:</p>
<p>To ensure reproducibility and clear comparison:</p>
<p><strong>Run Manifest</strong> (JSON per experiment run):</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nt">&quot;run_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;heading-based-v1-2025-12-11&quot;</span><span class="p">,</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nt">&quot;corpus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JVB-journals-sample&quot;</span><span class="p">,</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="nt">&quot;strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;heading-based&quot;</span><span class="p">,</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="nt">&quot;prompt_fingerprints&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="nt">&quot;sectioning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sha256:abc123...&quot;</span><span class="p">,</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">    </span><span class="nt">&quot;translation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sha256:def456...&quot;</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">  </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">  </span><span class="nt">&quot;chunk_policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;min_section_lines&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;max_sections&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">},</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">  </span><span class="nt">&quot;cost_usd&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.47</span><span class="p">,</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">  </span><span class="nt">&quot;latency_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-12-11T10:30:00Z&quot;</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Outputs Folder Layout</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>experiments/
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>  run_id/
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    manifest.json           # Run configuration + metadata
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    outputs/
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>      doc1_translated.txt   # Translated documents
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>      doc1_alignment.json   # Source ‚Üí translation alignment
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    qa/
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>      doc1_spot_checks.csv  # Human evaluation template
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    metrics/
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>      quality.json          # BLEU/COMET scores
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>      cost.json             # Token usage breakdown
</span></code></pre></div>
<p><strong>Human Scoring Template</strong> (CSV format):</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>document_id,passage_id,source_lines,translated_lines,accuracy_1-5,fluency_1-5,terminology_consistent_y/n,notes
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>doc1,passage1,&quot;42-45&quot;,&quot;38-41&quot;,4,5,y,&quot;Minor terminology drift in line 44&quot;
</span></code></pre></div>
<p><strong>Phase 0 Outcome Gates Phase 1</strong>: Only proceed with full platform implementation if validation spike confirms value.</p>
<hr />
<h3 id="phase-1-core-platform-3-4-weeks">Phase 1: Core Platform (3-4 weeks)<a class="headerlink" href="#phase-1-core-platform-3-4-weeks" title="Link to this section">&para;</a></h3>
<p><strong>Objective</strong>: Build foundational components without full strategy catalog.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Task Abstraction</strong></li>
<li><code>Task</code> protocol and base implementation</li>
<li><code>TaskInput</code>, <code>TaskResult</code>, <code>TaskConfig</code> models</li>
<li>
<p><code>SectioningTask</code>, <code>TranslationTask</code>, <code>ValidationTask</code> skeletons</p>
</li>
<li>
<p><strong>Context Propagation Layer</strong></p>
</li>
<li><code>ContextGraph</code> and <code>ContextNode</code> implementation</li>
<li>Query interface for context retrieval</li>
<li>
<p>Lineage tracking with fingerprints</p>
</li>
<li>
<p><strong>Pipeline Orchestration</strong></p>
</li>
<li>YAML pipeline configuration parser</li>
<li>Dependency resolution (topological sort)</li>
<li>
<p>Task execution engine with retry logic</p>
</li>
<li>
<p><strong>Object-Service Patterns</strong> (from AT03)</p>
</li>
<li><code>SectioningPort</code>, <code>ContextEnrichmentPort</code>, <code>ValidationPort</code> protocols</li>
<li>Adapter base classes</li>
<li>Dependency injection container</li>
</ol>
<p><strong>Testing</strong>:</p>
<ul>
<li>Unit tests for all components (80%+ coverage)</li>
<li>Integration test: Simple pipeline (section ‚Üí translate ‚Üí assemble)</li>
<li>Use existing PoC approach as first adapter implementation</li>
</ul>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li>Can run existing PoC workflow through new platform</li>
<li>Context propagates correctly through pipeline</li>
<li>Lineage tracking captures all transformations</li>
</ul>
<p><strong>Walking Skeleton Requirement</strong> (must demo by end of Phase 1):</p>
<p>Run <code>section ‚Üí translate ‚Üí assemble</code> pipeline on 1 document with:</p>
<ul>
<li>Deterministic chunking policy (one strategy fully implemented)</li>
<li>One validation pass (coverage/gap detection)</li>
<li>QA artifact output: alignment map (section_id ‚Üí source_lines) + validation report</li>
</ul>
<p>This "vertical slice" proves the platform architecture works end-to-end before expanding strategy catalog.</p>
<h3 id="phase-2-strategy-catalog-migration-2-3-weeks">Phase 2: Strategy Catalog &amp; Migration (2-3 weeks)<a class="headerlink" href="#phase-2-strategy-catalog-migration-2-3-weeks" title="Link to this section">&para;</a></h3>
<p><strong>Objective</strong>: Migrate existing approach to prompt-driven strategy, add alternatives.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Strategy Catalog Structure</strong></li>
<li>Directory layout: <code>prompts/strategies/{type}/{name}.md</code></li>
<li>Strategy prompt format (frontmatter + template)</li>
<li>
<p>Configuration schema (YAML per strategy)</p>
</li>
<li>
<p><strong>Strategy Migration</strong></p>
</li>
<li>Convert current sectioning to <code>ai-identified.md</code> strategy</li>
<li>Convert current translation to <code>neighbor-lines.md</code> context strategy</li>
<li>
<p>Implement <code>section-boundary-check.md</code> validation strategy</p>
</li>
<li>
<p><strong>New Strategies</strong></p>
</li>
<li><code>heading-based.md</code> sectioning (deterministic extraction)</li>
<li><code>token-windows.md</code> sectioning (fixed-size chunks)</li>
<li>
<p><code>terminology-enriched.md</code> context (accumulated glossary)</p>
</li>
<li>
<p><strong>Strategy Selection</strong></p>
</li>
<li>Runtime strategy loading from catalog</li>
<li>Configuration-based selection (YAML pipeline config)</li>
<li>Adapter factory (strategy name ‚Üí adapter instance)</li>
</ol>
<p><strong>Testing</strong>:</p>
<ul>
<li>Test each strategy independently on sample documents</li>
<li>Verify catalog discovery and loading</li>
<li>Validate strategy swapping without code changes</li>
</ul>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li>Can run JVB corpus through 3 sectioning strategies</li>
<li>Strategies load from catalog, not hard-coded</li>
<li>Configuration-driven strategy selection works</li>
</ul>
<h3 id="phase-3-validation-loops-brittleness-fixes-2-weeks">Phase 3: Validation Loops &amp; Brittleness Fixes (2 weeks)<a class="headerlink" href="#phase-3-validation-loops-brittleness-fixes-2-weeks" title="Link to this section">&para;</a></h3>
<p><strong>Objective</strong>: Address known PoC brittleness with validation tasks.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Section Boundary Validator</strong></li>
<li>Prompt: <code>section-boundary-check.md</code></li>
<li>Logic: Detect gaps, overlaps, off-by-one errors</li>
<li>
<p>Repair: Automatically fix common errors or flag for review</p>
</li>
<li>
<p><strong>Translation Spot-Checker</strong></p>
</li>
<li>Prompt: <code>translation-spot-check.md</code></li>
<li>Logic: Sample passages, verify against source</li>
<li>
<p>Reporting: Confidence scores, flagged concerns</p>
</li>
<li>
<p><strong>Pipeline Integration</strong></p>
</li>
<li>Insert validators into existing pipelines</li>
<li>Retry logic: Re-run sectioning on boundary errors</li>
<li>Human-in-loop: Flag for review on quality concerns</li>
</ol>
<p><strong>Testing</strong>:</p>
<ul>
<li>Run validators on known-bad PoC outputs (off-by-one errors)</li>
<li>Verify automated fixes resolve common issues</li>
<li>Test retry logic with intentionally bad sectioning</li>
</ul>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li>Section boundary errors reduced by 90%+</li>
<li>Translation spot-checker catches known hallucinations</li>
<li>Pipelines with validation produce higher quality outputs</li>
</ul>
<h3 id="phase-4-experimentation-harness-2-3-weeks">Phase 4: Experimentation Harness (2-3 weeks)<a class="headerlink" href="#phase-4-experimentation-harness-2-3-weeks" title="Link to this section">&para;</a></h3>
<p><strong>Objective</strong>: Enable quantitative strategy comparison.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Experiment Framework</strong></li>
<li><code>Experiment</code> class for strategy comparison</li>
<li><code>ComparisonReport</code> with metrics, costs, recommendations</li>
<li>
<p>Corpus management (load, partition, sample)</p>
</li>
<li>
<p><strong>Metrics Collection</strong></p>
</li>
<li>Quality: BLEU/COMET for translation, coverage for sectioning</li>
<li>Cost: Token counts, API call counts, total spend</li>
<li>
<p>Latency: Processing time per document, per task</p>
</li>
<li>
<p><strong>Reporting</strong></p>
</li>
<li>Comparison tables (strategy ‚Üí metric ‚Üí value)</li>
<li>Visualization (charts for quality vs. cost tradeoffs)</li>
<li>
<p>Recommendations (best strategy per document type)</p>
</li>
<li>
<p><strong>Initial Comparison Study</strong></p>
</li>
<li>Run JVB corpus through 3 sectioning strategies</li>
<li>Collect metrics, human evaluations (spot-checks)</li>
<li>Document findings in comparison report</li>
</ol>
<p><strong>Testing</strong>:</p>
<ul>
<li>Verify metrics collection accuracy</li>
<li>Test experiment runner on small corpus</li>
<li>Validate report generation and visualization</li>
</ul>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li>Can compare strategies on 50+ document corpus</li>
<li>Metrics match manual calculations (spot-check)</li>
<li>Report clearly identifies best strategy per use case</li>
</ul>
<h3 id="phase-5-cross-document-extensions-3-4-weeks">Phase 5: Cross-Document Extensions (3-4 weeks)<a class="headerlink" href="#phase-5-cross-document-extensions-3-4-weeks" title="Link to this section">&para;</a></h3>
<p><strong>Objective</strong>: Enable multi-document processing with shared context.</p>
<p><strong>Deliverables</strong>:</p>
<ol>
<li><strong>Terminology Service</strong></li>
<li>Accumulate term ‚Üí translation mappings across documents</li>
<li>Query interface: "Get translation for term in context"</li>
<li>
<p>Persistence: Save/load terminology databases</p>
</li>
<li>
<p><strong>Document Relationship Model</strong></p>
</li>
<li>Represent document collections (multi-volume works, series)</li>
<li>Ordering: Sequential processing for narrative continuity</li>
<li>
<p>Shared context: Collections share terminology, style constraints</p>
</li>
<li>
<p><strong>Multi-Document Pipelines</strong></p>
</li>
<li>Process documents sequentially, accumulating context</li>
<li>Context merging: Combine terminology from volumes 1-N</li>
<li>
<p>Lineage: Track cross-document dependencies</p>
</li>
<li>
<p><strong>JVB Multi-Volume Test</strong></p>
</li>
<li>Process all journal volumes with shared terminology</li>
<li>Measure terminology consistency across volumes</li>
<li>Compare to single-document processing (baseline)</li>
</ol>
<p><strong>Testing</strong>:</p>
<ul>
<li>Unit tests for terminology service</li>
<li>Integration test: 3-volume series with shared terms</li>
<li>Verify cross-document lineage tracking</li>
</ul>
<p><strong>Success Criteria</strong>:</p>
<ul>
<li>Terminology consistent across multi-volume works</li>
<li>Processing N volumes accumulates context correctly</li>
<li>Cross-document lineage tracks dependencies</li>
</ul>
<hr />
<h2 id="strategic-trade-offs">Strategic Trade-offs<a class="headerlink" href="#strategic-trade-offs" title="Link to this section">&para;</a></h2>
<p>This architecture makes explicit trade-offs that favor accuracy and maintainability over simplicity:</p>
<h3 id="1-complexity-vs-accuracy">1. <strong>Complexity vs. Accuracy</strong><a class="headerlink" href="#1-complexity-vs-accuracy" title="Link to this section">&para;</a></h3>
<p><strong>Trade-off</strong>: Adds architectural layers (Context Planner, Task Orchestrator, Assembly/Validation) increasing surface area.</p>
<p><strong>Justification</strong>: Accuracy bottlenecks (drift, coherence gaps, brittleness) require structured orchestration. PoC demonstrated that single-pass processing cannot maintain quality at scale.</p>
<p><strong>Mitigation</strong>: Guardrails constrain Phase 1 complexity (in-memory state, simple Context Graph). Walking skeleton proves value before expansion.</p>
<h3 id="2-flexibility-vs-performance">2. <strong>Flexibility vs. Performance</strong><a class="headerlink" href="#2-flexibility-vs-performance" title="Link to this section">&para;</a></h3>
<p><strong>Trade-off</strong>: Context enrichment (neighbor windows, glossaries) increases token usage ‚Üí higher latency and cost. Evaluation-driven development means more experimental runs ‚Üí slower initial feature delivery.</p>
<p><strong>Justification</strong>: TNH Scholar's mission prioritizes translation fidelity over speed. Evaluation data guides optimization (e.g., "2-section context sufficient, not 3").</p>
<p><strong>Mitigation</strong>: Phase 0 spike quantifies cost/quality trade-offs before committing. Caching and adaptive context policies reduce steady-state overhead.</p>
<h3 id="3-domain-specificity-vs-generality">3. <strong>Domain Specificity vs. Generality</strong><a class="headerlink" href="#3-domain-specificity-vs-generality" title="Link to this section">&para;</a></h3>
<p><strong>Trade-off</strong>: Components (Context Planner, Assembly) initially optimized for translation, not general AI workflows.</p>
<p><strong>Justification</strong>: "Build concrete, extract abstractions" - translation is complex enough to prove patterns. Premature generalization risks over-engineering.</p>
<p><strong>Mitigation</strong>: Abstraction points identified (Task protocol, Strategy ports) enable future generalization. Phase 2+ extracts patterns for summarization, extraction.</p>
<h3 id="4-evaluation-cost-vs-confidence">4. <strong>Evaluation Cost vs. Confidence</strong><a class="headerlink" href="#4-evaluation-cost-vs-confidence" title="Link to this section">&para;</a></h3>
<p><strong>Trade-off</strong>: Experiment harness, metrics collection, human evaluations require upfront investment before feature delivery.</p>
<p><strong>Justification</strong>: Without evaluation, cannot distinguish effective strategies from ineffective ones. Risk of building wrong thing is higher cost than validation delay.</p>
<p><strong>Mitigation</strong>: Phase 0 spike time-boxed to 1 week. Reusable harness amortizes cost across all future strategy experiments.</p>
<h2 id="reliability-philosophy">Reliability Philosophy<a class="headerlink" href="#reliability-philosophy" title="Link to this section">&para;</a></h2>
<p>TNH Scholar favors <strong>best-effort with traceability</strong> for long-running multi-chunk tasks:</p>
<ul>
<li><strong>Partial failures</strong>: Tasks continue processing remaining chunks; emit warning artifacts for failed chunks</li>
<li><strong>Validation failures</strong>: <code>WARN</code> allows pipeline to continue with flagged output; <code>FAIL</code> stops pipeline but preserves intermediate state</li>
<li><strong>Recovery model</strong>: Checkpoint after each major stage (sectioning, translation, assembly); failed tasks can resume from last checkpoint (Phase 2+)</li>
<li><strong>Partial results</strong>: Acceptable for delivery <strong>with clear provenance</strong> (which chunks succeeded, which failed, why)</li>
</ul>
<p><strong>Rationale</strong>: For scholarly work, transparency about limitations is more valuable than failing silently or hiding partial outputs.</p>
<h2 id="consequences">Consequences<a class="headerlink" href="#consequences" title="Link to this section">&para;</a></h2>
<h3 id="positive">Positive<a class="headerlink" href="#positive" title="Link to this section">&para;</a></h3>
<ol>
<li><strong>Strategy Experimentation is Cheap</strong></li>
<li>New strategy = prompt + config, no code changes</li>
<li>A/B testing built-in via experimentation harness</li>
<li>
<p>User-driven customization (select strategy per document)</p>
</li>
<li>
<p><strong>Brittleness Addressed Systematically</strong></p>
</li>
<li>Validation loops catch known errors (section boundaries, translation drift)</li>
<li>Automated fixes for common issues</li>
<li>
<p>Quality gates prevent bad outputs</p>
</li>
<li>
<p><strong>Context Fidelity Guaranteed</strong></p>
</li>
<li>Context graph ensures document-level context flows through pipeline</li>
<li>Terminology enrichment enables cross-document consistency</li>
<li>
<p>Lineage tracking provides full provenance</p>
</li>
<li>
<p><strong>Evaluation-Driven Development</strong></p>
</li>
<li>Quantitative metrics inform strategy selection</li>
<li>Comparison framework enables data-driven decisions</li>
<li>
<p>Human evaluations complement automated metrics</p>
</li>
<li>
<p><strong>Extensible via Prompt Engineering</strong></p>
</li>
<li>Prompt system is primary extension mechanism</li>
<li>Non-engineers can contribute strategies</li>
<li>
<p>Rapid iteration on new approaches</p>
</li>
<li>
<p><strong>Object-Service Patterns Serve Higher Purpose</strong></p>
</li>
<li>Ports/adapters enable strategy polymorphism, not just testability</li>
<li>Dependency injection supports experimentation harness</li>
<li>
<p>Protocol contracts enable comparison framework</p>
</li>
<li>
<p><strong>Cross-Document Coherence Enabled</strong></p>
</li>
<li>Shared terminology across multi-volume works</li>
<li>Document relationship model for collections</li>
<li>Context accumulation across processing runs</li>
</ol>
<h3 id="negative">Negative<a class="headerlink" href="#negative" title="Link to this section">&para;</a></h3>
<ol>
<li><strong>Increased Abstraction Complexity</strong></li>
<li>More layers (tasks, strategies, context graph, pipeline orchestration)</li>
<li>Steeper learning curve for new contributors</li>
<li>
<p>Debugging harder (more indirection)</p>
</li>
<li>
<p><strong>Strategy Catalog Requires Governance</strong></p>
</li>
<li>Need versioning strategy for prompts</li>
<li>Deprecation policy for obsolete strategies</li>
<li>
<p>Quality control (not all contributed strategies may work)</p>
</li>
<li>
<p><strong>Orchestration Overhead</strong></p>
</li>
<li>Pipeline configuration adds conceptual complexity</li>
<li>Runtime overhead (task scheduling, context propagation)</li>
<li>
<p>May need profiling and optimization</p>
</li>
<li>
<p><strong>Experimentation Harness Maintenance</strong></p>
</li>
<li>Metrics calculation requires ongoing validation</li>
<li>Corpus management (storage, versioning, partitioning)</li>
<li>
<p>Comparison reports need maintenance as metrics evolve</p>
</li>
<li>
<p><strong>Cross-Document State Management</strong></p>
</li>
<li>Terminology service needs persistence strategy</li>
<li>Multi-document processing increases memory footprint</li>
<li>Concurrency challenges (parallel document processing)</li>
</ol>
<h3 id="risks-mitigations">Risks &amp; Mitigations<a class="headerlink" href="#risks-mitigations" title="Link to this section">&para;</a></h3>
<table>
<thead>
<tr>
<th>Risk</th>
<th>Impact</th>
<th>Mitigation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Over-engineering</strong>: Too much abstraction for unclear benefit</td>
<td>High</td>
<td>Start with 3 strategies, prove value before expanding. Phase 1-2 validate core concepts.</td>
</tr>
<tr>
<td><strong>Performance degradation</strong>: Orchestration overhead slows processing</td>
<td>Medium</td>
<td>Profile each phase, optimize hot paths. Context propagation uses lazy evaluation.</td>
</tr>
<tr>
<td><strong>Prompt catalog sprawl</strong>: Too many strategies, unclear which to use</td>
<td>Medium</td>
<td>Strategy versioning, deprecation policy. Experimentation harness recommends best strategy.</td>
</tr>
<tr>
<td><strong>Strategy quality variance</strong>: User-contributed strategies may not work</td>
<td>Medium</td>
<td>Validation suite for new strategies. Peer review process. Mark strategies as experimental.</td>
</tr>
<tr>
<td><strong>Metrics accuracy</strong>: Automated quality metrics may not correlate with human judgment</td>
<td>High</td>
<td>Combine automated metrics with human evaluations. Calibrate metrics against human ratings.</td>
</tr>
<tr>
<td><strong>Cross-document complexity</strong>: Multi-document processing introduces hard-to-debug issues</td>
<td>Medium</td>
<td>Strong lineage tracking. Checkpoint between documents. Incremental rollout (single-doc first).</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="open-questions">Open Questions<a class="headerlink" href="#open-questions" title="Link to this section">&para;</a></h2>
<h3 id="1-strategy-selection-heuristics">1. Strategy Selection Heuristics<a class="headerlink" href="#1-strategy-selection-heuristics" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Should strategy selection be auto-detected, user-specified, or heuristic-based?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Auto-detect</strong>: Analyze document structure, choose best strategy (e.g., headings present ‚Üí use heading-based)</li>
<li><strong>User-specified</strong>: User picks strategy via configuration</li>
<li><strong>Heuristics</strong>: Rules like "use heading-based for Markdown, ai-identified for plain text"</li>
</ul>
<p><strong>Implications</strong>: Auto-detect requires reliable document analysis. Heuristics may miss edge cases. User-specified requires user knowledge.</p>
<p><strong>Decision needed by</strong>: Phase 2 (strategy catalog)</p>
<h3 id="2-validation-loop-behavior">2. Validation Loop Behavior<a class="headerlink" href="#2-validation-loop-behavior" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Should validation loops always run, opt-in per pipeline, or triggered by confidence scores?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Always run</strong>: Every pipeline includes validation (higher quality, higher cost)</li>
<li><strong>Opt-in</strong>: User configures validation tasks in pipeline (flexibility)</li>
<li><strong>Confidence-triggered</strong>: Run validation only if AI response has low confidence (adaptive)</li>
</ul>
<p><strong>Implications</strong>: Always-run increases cost. Opt-in may lead to skipped validation. Confidence-triggered requires reliable confidence scoring.</p>
<p><strong>Decision needed by</strong>: Phase 3 (validation loops)</p>
<h3 id="3-context-propagation-strategy">3. Context Propagation Strategy<a class="headerlink" href="#3-context-propagation-strategy" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Should context be eagerly accumulated (all context to all tasks) or lazily queried (tasks request what they need)?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Eager</strong>: Every task gets full context graph (simple, high memory)</li>
<li><strong>Lazy</strong>: Tasks query context graph for specific nodes (complex, low memory)</li>
</ul>
<p><strong>Implications</strong>: Eager is simpler but may overwhelm token limits. Lazy requires explicit context declarations.</p>
<p><strong>Decision needed by</strong>: Phase 1 (context propagation layer)</p>
<h3 id="4-cross-document-terminology-service">4. Cross-Document Terminology Service<a class="headerlink" href="#4-cross-document-terminology-service" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Single terminology service for all documents or per-collection?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Single service</strong>: Global terminology database (may have conflicts across domains)</li>
<li><strong>Per-collection</strong>: Each document collection has own terminology (isolation, duplication)</li>
</ul>
<p><strong>Implications</strong>: Single service simpler but may conflate terms across unrelated works. Per-collection isolates but duplicates common terms.</p>
<p><strong>Decision needed by</strong>: Phase 5 (cross-document extensions)</p>
<h3 id="5-quality-metrics">5. Quality Metrics<a class="headerlink" href="#5-quality-metrics" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Which quality metrics are practical to compute automatically, and how do they correlate with human judgment?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Translation</strong>: BLEU, COMET, chrF (established but imperfect)</li>
<li><strong>Sectioning</strong>: Coverage %, boundary accuracy (easy to compute)</li>
<li><strong>Human evaluations</strong>: Spot-checks, ratings (accurate but expensive)</li>
</ul>
<p><strong>Implications</strong>: Need to calibrate automated metrics against human ratings. May need to develop domain-specific metrics.</p>
<p><strong>Decision needed by</strong>: Phase 4 (experimentation harness)</p>
<h3 id="6-pipeline-composition-limits">6. Pipeline Composition Limits<a class="headerlink" href="#6-pipeline-composition-limits" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Should pipelines have structure constraints (e.g., "validation must follow sectioning") or allow arbitrary composition?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Constrained</strong>: Enforce sensible orderings (e.g., can't translate before sectioning)</li>
<li><strong>Free-form</strong>: Allow any task sequence, fail at runtime if invalid</li>
</ul>
<p><strong>Implications</strong>: Constraints prevent errors but limit flexibility. Free-form enables experimentation but may produce confusing failures.</p>
<p><strong>Decision needed by</strong>: Phase 1 (pipeline orchestration)</p>
<h3 id="7-minimum-context-window-requirements">7. Minimum Context Window Requirements<a class="headerlink" href="#7-minimum-context-window-requirements" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: What minimum context window is required per task (translation vs. summarization) before latency/cost becomes prohibitive?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Translation</strong>: Test ¬±1, ¬±2, ¬±3 neighbor sections + document glossary</li>
<li><strong>Summarization</strong>: Full section vs. section + neighbors</li>
<li><strong>Adaptive</strong>: Adjust based on section complexity scoring</li>
</ul>
<p><strong>Implications</strong>: Larger context improves quality but increases cost and latency. Need empirical data from Phase 0 validation spike.</p>
<p><strong>Decision needed by</strong>: Phase 0 (validation spike will inform)</p>
<h3 id="8-response-validation-methods">8. Response Validation Methods<a class="headerlink" href="#8-response-validation-methods" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Which response validation methods are sufficient (heuristic vs. secondary LLM check) for omissions/hallucinations on long texts?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Heuristic only</strong>: Line count, character ratio, structural markers (fast, cheap, limited accuracy)</li>
<li><strong>Secondary LLM</strong>: "Review this translation for omissions/hallucinations" (slower, expensive, higher accuracy)</li>
<li><strong>Hybrid</strong>: Heuristics for filtering, LLM for flagged cases</li>
</ul>
<p><strong>Implications</strong>: Secondary LLM doubles cost but may catch critical errors. Heuristics may have false positives/negatives.</p>
<p><strong>Decision needed by</strong>: Phase 3 (validation loops)</p>
<h3 id="9-qa-output-formats-as-product-surface">9. QA Output Formats as Product Surface<a class="headerlink" href="#9-qa-output-formats-as-product-surface" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: Do we need document-level alignment outputs (e.g., bilingual side-by-side with anchors) as a first-class product surface, or is this internal tooling?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Product feature</strong>: Bilingual outputs with line anchors, diff views, spot-check interfaces for end users</li>
<li><strong>Internal tooling</strong>: QA artifacts for developers/editors only</li>
<li><strong>Phased approach</strong>: Internal first, productize if valuable</li>
</ul>
<p><strong>Implications</strong>: Product feature requires UX design, persistence, API endpoints. Internal tooling is faster to build but limits user workflows.</p>
<p><strong>Decision needed by</strong>: Phase 3 (Assembly/Validation implementation) - Informs interface design</p>
<h3 id="10-caching-strategy-granularity">10. Caching Strategy Granularity<a class="headerlink" href="#10-caching-strategy-granularity" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: How aggressively should we cache per-section vs. per-task, given prompt fingerprint changes?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Section-level</strong>: Cache section translation with fingerprint key (fine-grained invalidation)</li>
<li><strong>Task-level</strong>: Cache entire task output (coarse-grained, less reusable)</li>
<li><strong>Prompt-aware</strong>: Cache invalidates only when prompt version changes</li>
</ul>
<p><strong>Implications</strong>: Section-level caching maximizes reuse but complex cache management. Task-level simpler but less efficient.</p>
<p><strong>Caching Tier Clarification</strong>:</p>
<ul>
<li><strong>Phase 1</strong>: Task-level ephemeral cache (in-memory, cleared after pipeline completes)</li>
<li><strong>Phase 2+</strong>: Infrastructure-level persistent cache (Redis/similar, shared across runs)</li>
<li><strong>Responsibility split</strong>: GenAI Service handles response caching (provider-level); Task Orchestrator handles result caching (section-level)</li>
</ul>
<p><strong>Decision needed by</strong>: Phase 2 (GenAI integration with caching)</p>
<h3 id="11-cross-document-coordination-scope">11. Cross-Document Coordination Scope<a class="headerlink" href="#11-cross-document-coordination-scope" title="Link to this section">&para;</a></h3>
<p><strong>Question</strong>: What are the temporal and scope boundaries of cross-document coordination?</p>
<p><strong>Options</strong>:</p>
<ul>
<li><strong>Per-batch</strong>: Shared glossary within single Task execution (batch of docs processed together)</li>
<li><strong>Per-session</strong>: Glossary persists across user's processing session (multiple task runs)</li>
<li><strong>Project-level</strong>: Persistent terminology database shared across all users/sessions</li>
</ul>
<p><strong>Implications</strong>: Each scope requires different architectural support (in-memory, file system, database).</p>
<p><strong>Phase 1 Decision</strong>: Per-batch coordination (in-memory TerminologyStore cleared after Task completes)</p>
<p><strong>Phase 5 Evolution</strong>: Project-level persistent glossary (database-backed) for scholarly collections</p>
<p><strong>Decision needed by</strong>: Phase 5 (cross-document extensions)</p>
<hr />
<h2 id="migration-from-at03">Migration from AT03<a class="headerlink" href="#migration-from-at03" title="Link to this section">&para;</a></h2>
<h3 id="phased-approach-at03-at04">Phased Approach: AT03 ‚Üí AT04<a class="headerlink" href="#phased-approach-at03-at04" title="Link to this section">&para;</a></h3>
<p><strong>UPDATE 2025-12-12</strong>: AT03 has been refactored as a <strong>minimal viable implementation</strong> to unblock tnh-gen CLI release (1-2 weeks). AT04 will build on this foundation.</p>
<h3 id="phase-05-at03-minimal-refactor-1-2-weeks-current">Phase 0.5: AT03 Minimal Refactor (1-2 weeks) - <strong>CURRENT</strong><a class="headerlink" href="#phase-05-at03-minimal-refactor-1-2-weeks-current" title="Link to this section">&para;</a></h3>
<p><strong>Scope</strong> (see <a href="../adr-at03-object-service-refactor/">ADR-AT03</a>):</p>
<ul>
<li>‚úÖ <strong>TextObject Robustness</strong>: Section boundary validation, metadata merging fixes</li>
<li>‚úÖ <strong>GenAI Service Integration</strong>: Remove direct OpenAI calls, add provenance tracking</li>
<li>‚úÖ <strong>Basic Prompt Adoption</strong>: Migrate key prompts to catalog, use PromptsAdapter</li>
<li>‚úÖ <strong>Error Handling</strong>: Structured exceptions for tnh-gen CLI exit codes</li>
</ul>
<p><strong>Deliverable</strong>: tnh-gen CLI functional with robust ai_text_processing</p>
<p><strong>NOT Included</strong> (deferred to AT04):</p>
<ul>
<li>‚ùå Task Orchestration Layer</li>
<li>‚ùå Context Propagation Graph</li>
<li>‚ùå Strategy Catalog &amp; Polymorphism</li>
<li>‚ùå Validation Loops</li>
<li>‚ùå Experimentation Harness</li>
</ul>
<h3 id="phase-0-early-validation-spike-1-week-after-at03">Phase 0: Early Validation Spike (1 week) - AFTER AT03<a class="headerlink" href="#phase-0-early-validation-spike-1-week-after-at03" title="Link to this section">&para;</a></h3>
<p>Run Phase 0 validation spike (from AT04 ¬ß4) to quantify cost/quality trade-offs for context strategies before committing to full platform.</p>
<h3 id="phase-1-5-full-at04-platform-11-16-weeks-after-validation">Phase 1-5: Full AT04 Platform (11-16 weeks) - AFTER VALIDATION<a class="headerlink" href="#phase-1-5-full-at04-platform-11-16-weeks-after-validation" title="Link to this section">&para;</a></h3>
<p>Implement full platform architecture as described in this ADR:</p>
<ol>
<li><strong>Phase 1</strong>: Task Orchestration, Context Propagation (3-4 weeks)</li>
<li><strong>Phase 2</strong>: Strategy Catalog (2-3 weeks)</li>
<li><strong>Phase 3</strong>: Validation Loops (2 weeks)</li>
<li><strong>Phase 4</strong>: Experimentation Harness (2-3 weeks)</li>
<li><strong>Phase 5</strong>: Cross-Document Extensions (3-4 weeks)</li>
</ol>
<h3 id="what-at03-provides-for-at04">What AT03 Provides for AT04<a class="headerlink" href="#what-at03-provides-for-at04" title="Link to this section">&para;</a></h3>
<p>AT03 establishes the <strong>foundation</strong> AT04 builds upon:</p>
<ol>
<li><strong>TextObject Robustness</strong> ‚Üí Enables Context Propagation to track section lineage accurately</li>
<li><strong>GenAI Service Integration</strong> ‚Üí Task Orchestrator calls GenAI Service (no direct OpenAI)</li>
<li><strong>Prompt System Adoption</strong> ‚Üí Strategy Catalog extends prompt catalog with strategy templates</li>
<li><strong>Error Handling</strong> ‚Üí Validation Loops use same exception hierarchy</li>
</ol>
<p><strong>Key Insight</strong>: AT03's work is <strong>not throwaway</strong>‚Äîit's the prerequisite infrastructure AT04 assumes exists.</p>
<h3 id="migration-timeline">Migration Timeline<a class="headerlink" href="#migration-timeline" title="Link to this section">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>NOW          +2 weeks       +3 weeks        +6 months
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>‚îÇ               ‚îÇ              ‚îÇ               ‚îÇ
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>‚îú‚îÄ AT03 Impl ‚îÄ‚îÄ‚î§              ‚îÇ               ‚îÇ
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>‚îÇ               ‚îú‚îÄ tnh-gen    ‚îÇ               ‚îÇ
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>‚îÇ               ‚îÇ   Release   ‚îÇ               ‚îÇ
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>‚îÇ               ‚îÇ              ‚îú‚îÄ Phase 0     ‚îÇ
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>‚îÇ               ‚îÇ              ‚îÇ   Validation ‚îÇ
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>‚îÇ               ‚îÇ              ‚îú‚îÄ Phase 1-5  ‚îÄ‚î§
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>‚îÇ               ‚îÇ              ‚îÇ   (AT04)     ‚îÇ
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>‚îÇ               ‚îÇ              ‚îÇ              ‚îú‚îÄ Full Platform
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>                                                  Ready
</span></code></pre></div>
<p><strong>Result</strong>: tnh-gen releases quickly (2 weeks), AT04 platform proceeds without blocking the CLI.</p>
<hr />
<h2 id="decimal-spin-off-adrs-design-details">Decimal Spin-Off ADRs (Design Details)<a class="headerlink" href="#decimal-spin-off-adrs-design-details" title="Link to this section">&para;</a></h2>
<p>This strategy ADR establishes direction and platform architecture. Detailed design decisions will be captured in decimal spin-off ADRs using the naming convention <strong>ADR-AT04.N</strong>:</p>
<h3 id="adr-at041-task-orchestration-model">ADR-AT04.1: Task Orchestration Model<a class="headerlink" href="#adr-at041-task-orchestration-model" title="Link to this section">&para;</a></h3>
<p><strong>Type</strong>: <code>design-detail</code></p>
<p><strong>Purpose</strong>: Detailed task interface, pipeline composition rules, configuration schema, dependency resolution, retry logic, failure handling.</p>
<p><strong>Dependencies</strong>: AT04 accepted</p>
<p><strong>Timeline</strong>: Week 1-2 of Phase 1</p>
<p><strong>File</strong>: <code>adr-at04.1-task-orchestration.md</code></p>
<h3 id="adr-at042-context-propagation-design">ADR-AT04.2: Context Propagation Design<a class="headerlink" href="#adr-at042-context-propagation-design" title="Link to this section">&para;</a></h3>
<p><strong>Type</strong>: <code>design-detail</code></p>
<p><strong>Purpose</strong>: Context graph model, query interface, lineage tracking, fingerprinting, metadata merging, cross-document context.</p>
<p><strong>Dependencies</strong>: AT04 accepted, Phase 1 complete</p>
<p><strong>Timeline</strong>: Week 2-3 of Phase 1</p>
<p><strong>File</strong>: <code>adr-at04.2-context-propagation.md</code></p>
<h3 id="adr-at043-strategy-catalog-design">ADR-AT04.3: Strategy Catalog Design<a class="headerlink" href="#adr-at043-strategy-catalog-design" title="Link to this section">&para;</a></h3>
<p><strong>Type</strong>: <code>design-detail</code></p>
<p><strong>Purpose</strong>: Prompt structure, versioning, discovery mechanism, selection heuristics, deprecation policy, contribution process.</p>
<p><strong>Dependencies</strong>: AT04 accepted, Phase 1 complete</p>
<p><strong>Timeline</strong>: Week 1 of Phase 2</p>
<p><strong>File</strong>: <code>adr-at04.3-strategy-catalog.md</code></p>
<h3 id="adr-at044-validation-loops-design">ADR-AT04.4: Validation Loops Design<a class="headerlink" href="#adr-at044-validation-loops-design" title="Link to this section">&para;</a></h3>
<p><strong>Type</strong>: <code>design-detail</code></p>
<p><strong>Purpose</strong>: Where to insert validation, configuration schema, failure modes, retry strategies, human-in-loop integration.</p>
<p><strong>Dependencies</strong>: AT04 accepted, Phase 2 complete</p>
<p><strong>Timeline</strong>: Phase 3</p>
<p><strong>File</strong>: <code>adr-at04.4-validation-loops.md</code></p>
<h3 id="adr-at045-experimentation-harness">ADR-AT04.5: Experimentation Harness<a class="headerlink" href="#adr-at045-experimentation-harness" title="Link to this section">&para;</a></h3>
<p><strong>Type</strong>: <code>design-detail</code></p>
<p><strong>Purpose</strong>: Comparison framework design, metrics collection, corpus management, reporting, visualization.</p>
<p><strong>Dependencies</strong>: AT04 accepted, Phase 3 complete</p>
<p><strong>Timeline</strong>: Phase 4</p>
<p><strong>File</strong>: <code>adr-at04.5-experimentation-harness.md</code></p>
<h3 id="adr-at046-cross-document-coherence">ADR-AT04.6: Cross-Document Coherence<a class="headerlink" href="#adr-at046-cross-document-coherence" title="Link to this section">&para;</a></h3>
<p><strong>Type</strong>: <code>design-detail</code></p>
<p><strong>Purpose</strong>: Terminology service design, document relationship model, multi-document pipelines, context merging, lineage across documents.</p>
<p><strong>Dependencies</strong>: AT04 accepted, Phase 4 complete</p>
<p><strong>Timeline</strong>: Phase 5</p>
<p><strong>File</strong>: <code>adr-at04.6-cross-document-coherence.md</code></p>
<p><strong>Note</strong>: Each decimal ADR will include <code>parent_adr: "adr-at04-ai-text-processing-platform-strat.md"</code> and <code>type: "design-detail"</code> in its frontmatter.</p>
<hr />
<h2 id="references">References<a class="headerlink" href="#references" title="Link to this section">&para;</a></h2>
<h3 id="related-adrs">Related ADRs<a class="headerlink" href="#related-adrs" title="Link to this section">&para;</a></h3>
<ul>
<li><strong><a href="../adr-at03-object-service-refactor/">ADR-AT03: Minimal AI Text Processing Refactor</a></strong> - Minimal refactor for tnh-gen (Phase 0.5)</li>
<li><strong><a href="../adr-at03.1-transition-plan/">ADR-AT03.1: AT03‚ÜíAT04 Transition Plan</a></strong> - Phased transition strategy</li>
<li><strong><a href="../adr-at01-ai-text-processing/">ADR-AT01: AI Text Processing Pipeline</a></strong> - Original pipeline design, metadata strategy</li>
<li><strong><a href="../adr-at02-sectioning-textobject/">ADR-AT02: TextObject Architecture</a></strong> - TextObject design evolution, section boundaries</li>
<li><strong><a href="../../../gen-ai-service/adr/adr-a13-migrate-openai-to-genaiservice/">ADR-A13: GenAI Service</a></strong> - GenAI service integration</li>
<li><strong><a href="../../../prompt-system/adr/adr-pt04-prompt-system-refactor/">ADR-PT04: Prompt System Refactor</a></strong> - Prompt system architecture</li>
<li><strong><a href="../../../object-service/adr/adr-os01-object-service-architecture-v3/">ADR-OS01: Object-Service Architecture V3</a></strong> - Object-service patterns foundation</li>
</ul>
<h3 id="external-resources">External Resources<a class="headerlink" href="#external-resources" title="Link to this section">&para;</a></h3>
<ul>
<li><a href="https://alistair.cockburn.us/hexagonal-architecture/">Hexagonal Architecture (Ports &amp; Adapters)</a> - Foundation for strategy polymorphism</li>
<li><a href="https://refactoring.guru/design-patterns/strategy">Strategy Pattern</a> - Behavioral pattern for algorithm interchangeability</li>
<li><a href="https://java-design-patterns.com/patterns/pipeline/">Pipeline Pattern</a> - Compositional processing flows</li>
<li><a href="https://en.wikipedia.org/wiki/BLEU">BLEU Metric</a> - Automatic translation quality evaluation</li>
<li><a href="https://github.com/Unbabel/COMET">COMET Metric</a> - Neural translation quality estimation</li>
</ul>
<h3 id="tnh-scholar-context">TNH Scholar Context<a class="headerlink" href="#tnh-scholar-context" title="Link to this section">&para;</a></h3>
<p>This ADR serves TNH Scholar's mission to preserve and translate Th√≠ch Nh·∫•t H·∫°nh's teachings with fidelity and accessibility. The platform architecture enables:</p>
<ol>
<li><strong>High-fidelity translation</strong> via context-aware processing</li>
<li><strong>Multi-volume works</strong> (journals, lecture series) with terminology consistency</li>
<li><strong>Evaluation-driven quality</strong> ensuring translations honor original meaning</li>
<li><strong>Extensibility</strong> for future document types and languages</li>
<li><strong>Experimentation</strong> to continuously improve processing strategies</li>
</ol>
<hr />
<h2 id="approval-next-steps">Approval &amp; Next Steps<a class="headerlink" href="#approval-next-steps" title="Link to this section">&para;</a></h2>
<h3 id="approval-process">Approval Process<a class="headerlink" href="#approval-process" title="Link to this section">&para;</a></h3>
<ol>
<li><strong>Review Period</strong>: 1 week for stakeholder feedback</li>
<li><strong>Concerns</strong>: Document open questions and risks</li>
<li><strong>Acceptance</strong>: Move status from <code>proposed</code> ‚Üí <code>accepted</code></li>
</ol>
<h3 id="immediate-next-steps-on-acceptance">Immediate Next Steps (on acceptance)<a class="headerlink" href="#immediate-next-steps-on-acceptance" title="Link to this section">&para;</a></h3>
<ol>
<li><strong>Begin Phase 1</strong>: Core platform implementation (3-4 weeks)</li>
<li><strong>Draft ADR-AT04.1</strong>: Task orchestration model (parallel with Phase 1 implementation)</li>
<li><strong>Draft ADR-AT04.2</strong>: Context propagation design (Week 2-3 of Phase 1)</li>
</ol>
<h3 id="success-criteria-for-at04">Success Criteria for AT04<a class="headerlink" href="#success-criteria-for-at04" title="Link to this section">&para;</a></h3>
<p>This strategy ADR is successful if it achieves:</p>
<h4 id="1-accuracy-improvement-measurable"><strong>1. Accuracy Improvement</strong> (measurable)<a class="headerlink" href="#1-accuracy-improvement-measurable" title="Link to this section">&para;</a></h4>
<ul>
<li>Translation quality improves on evaluation corpus (Phase 0 validates)</li>
<li>Human evaluations prefer context-enriched strategies over baseline</li>
<li>Section boundary errors reduced by 90%+ (validation loops)</li>
<li>Cross-document terminology consistency demonstrable in multi-volume works</li>
</ul>
<h4 id="2-maintainability-qualitative"><strong>2. Maintainability</strong> (qualitative)<a class="headerlink" href="#2-maintainability-qualitative" title="Link to this section">&para;</a></h4>
<ul>
<li>Can swap providers (OpenAI ‚Üí Anthropic) without changing orchestration logic</li>
<li>Can experiment with new prompts (PT04 catalog) without code changes</li>
<li>Can add new chunking strategies (heading-based, semantic) in days, not weeks</li>
<li>Validation loops can be inserted/removed via configuration</li>
</ul>
<h4 id="3-traceability-verifiable"><strong>3. Traceability</strong> (verifiable)<a class="headerlink" href="#3-traceability-verifiable" title="Link to this section">&para;</a></h4>
<ul>
<li>Every output includes: source_section_id, source_line_range, prompt_fingerprint, model_metadata</li>
<li>Alignment maps enable side-by-side QA views (source | translation)</li>
<li>"Re-translate section 3 with prompt v1.2" produces deterministic results</li>
<li>Lineage tracking answers: "Which prompt version produced this translation?"</li>
</ul>
<h4 id="4-extensibility-demonstrated"><strong>4. Extensibility</strong> (demonstrated)<a class="headerlink" href="#4-extensibility-demonstrated" title="Link to this section">&para;</a></h4>
<ul>
<li>Architecture supports summarization, extraction tasks with minimal refactoring (Phase 2+ proves this)</li>
<li>Context Planning generalizes to non-translation AI workflows</li>
<li>Task Orchestrator patterns apply beyond text processing</li>
<li>Evaluation harness supports new metrics/strategies without core changes</li>
</ul>
<h4 id="5-performance-acceptable-bounds"><strong>5. Performance</strong> (acceptable bounds)<a class="headerlink" href="#5-performance-acceptable-bounds" title="Link to this section">&para;</a></h4>
<ul>
<li>Latency per document: &lt; 2x baseline for context-enriched processing</li>
<li>Cost per document: &lt; 1.5x baseline (context overhead justified by quality improvement)</li>
<li>Phase 0 spike quantifies exact trade-offs before committing</li>
</ul>
<h4 id="6-team-alignment-organizational"><strong>6. Team Alignment</strong> (organizational)<a class="headerlink" href="#6-team-alignment-organizational" title="Link to this section">&para;</a></h4>
<ul>
<li>Team aligns on platform approach over incremental refactor</li>
<li>Implementation phases are clear and achievable</li>
<li>Follow-on design ADRs (AT05-AT10) have clear scope boundaries</li>
<li>Risks and open questions are understood and acceptable</li>
</ul>
<hr />
<p><em>This ADR establishes the strategic foundation for TNH Scholar's text processing platform, enabling extensible, evaluation-driven development of high-fidelity translation and document processing capabilities.</em></p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
  
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/aaronksolomon/tnh-scholar" target="_blank" rel="noopener" title="TNH Scholar on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
  <script>
    // Mindful interactions - add subtle breathing animation to focus
    document.addEventListener('DOMContentLoaded', function() {
      // Add gentle breathing effect to the logo on hover
      const logo = document.querySelector('.md-header__button.md-logo');
      if (logo) {
        logo.addEventListener('mouseenter', function() {
          this.style.transition = 'transform 0.6s ease-in-out';
          this.style.transform = 'scale(1.05)';
        });
        logo.addEventListener('mouseleave', function() {
          this.style.transform = 'scale(1)';
        });
      }

      // Smooth scroll for anchor links - mindful navigation
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            e.preventDefault();
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>